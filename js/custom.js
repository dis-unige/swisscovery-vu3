!function n(o,i,l){function s(t,e){if(!i[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(a)return a(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=i[t]={exports:{}},o[t][0].call(r.exports,function(e){return s(o[t][1][e]||e)},r,r.exports,n,o,i,l)}return i[t].exports}for(var a="function"==typeof require&&require,e=0;e<l.length;e++)s(l[e]);return s}({1:[function(e,t,r){"use strict";e("./slsp-ill-signin-order-alert"),e("./prm-locations-after"),e("./prm-location-items-after"),e("./slsp-archives-htgi"),e("./slsp-archives-viewit"),e("./slsp-http-intercept-requests"),e("./prm-user-area-expandable-after"),e("./prm-loan-after"),e("./prm-personal-info-after"),e("./prm-alma-other-members-after"),e("./prm-service-ngrs-after"),e("./prm-service-physical-best-offer-after"),e("./slsp-http-intercept-pickup-information"),e("./prm-search-bar-after"),e("./prm-tabs-and-scopes-selector-after"),e("./prm-service-button-after"),e("./prm-full-view-after"),e("./prm-request-after"),e("./prm-requests-after"),e("./prm-alma-viewit-items-after"),e("./prm-alma-other-units-after"),e("./prm-login-after"),e("./prm-location-holdings-after"),e("./prm-offer-details-tile-after"),e("./prm-fines-after"),e("./prm-service-details-after"),e("./unige-bib-news"),e("./prm-blank-ill-after"),e("./slsp-location-items-after"),e("./prm-top-nav-bar-links-after"),e("./prm-databases-categorize-after");angular.module("viewCustom",["angularLoad","slspIllSigninOrderAlert","ethLocationsAfterModule","ethLocationItemsAfterModule","slspArchivesHtgi","slspArchivesViewit","slspHttpInterceptRequests","slspUserAreaExpandableAfterModule","slspLoanAfterModule","slspPersonalInfoAfterModule","prmAlmaOtherMembersAfterModule","prmServiceNgrsAfterModule","prmServicePhysicalBestOfferAfterModule","slspHttpInterceptPickupInformation","bcuSearchBarAfterModule","bcuTabsAndScopesSelectorAfterModule","prmServiceButtonAfterModule","prmFullViewAfterModule","slspRequestAfterModule","slspRequestsAfterModule","prmAlmaViewitItemsAfterModule","prmAlmaOtherUnitsAfterModule","prmLoginAfterModule","prmLocationHoldingsAfterModule","prmOfferDetailsTileAfterModule","prmFinesAfterModule","prmServiceDetailsAfterModule","unigeBibNewsModule","unigeIllOpenUrl","unigeLoanPolicyLabelFix","unigeDbCategories","unigeTargetBlankFix"])},{"./prm-alma-other-members-after":2,"./prm-alma-other-units-after":7,"./prm-alma-viewit-items-after":10,"./prm-blank-ill-after":15,"./prm-databases-categorize-after":17,"./prm-fines-after":20,"./prm-full-view-after":23,"./prm-loan-after":28,"./prm-location-holdings-after":31,"./prm-location-items-after":37,"./prm-locations-after":47,"./prm-login-after":54,"./prm-offer-details-tile-after":57,"./prm-personal-info-after":62,"./prm-request-after":67,"./prm-requests-after":70,"./prm-search-bar-after":71,"./prm-service-button-after":74,"./prm-service-details-after":81,"./prm-service-ngrs-after":88,"./prm-service-physical-best-offer-after":93,"./prm-tabs-and-scopes-selector-after":101,"./prm-top-nav-bar-links-after":102,"./prm-user-area-expandable-after":109,"./slsp-archives-htgi":111,"./slsp-archives-viewit":113,"./slsp-http-intercept-pickup-information":115,"./slsp-http-intercept-requests":117,"./slsp-ill-signin-order-alert":119,"./slsp-location-items-after":121,"./unige-bib-news":127}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmAlmaOtherMembersAfterModule=void 0;var n=e("./slsp-collapse-other-inst/slsp-collapse-other-inst.module"),e=e("./slsp-icon-label-other-members/slsp-icon-label-other-members.module"),r=r.prmAlmaOtherMembersAfterModule=angular.module("prmAlmaOtherMembersAfterModule",[]).component("prmAlmaOtherMembersAfter",{bindings:{parentCtrl:"<"},template:'<slsp-collapse-other-inst-component after-ctrl="$ctrl"></slsp-collapse-other-inst-component><slsp-icon-label-other-members-component after-ctrl="$ctrl"></slsp-icon-label-other-members-component><slsp-alma-other-members-after parent-ctrl="$parent.$ctrl"></slsp-alma-other-members-after>'});r.requires.push(n.slspCollapseOtherInstModule.name),r.requires.push(e.slspIconLabelOtherMembersModule.name)},{"./slsp-collapse-other-inst/slsp-collapse-other-inst.module":4,"./slsp-icon-label-other-members/slsp-icon-label-other-members.module":6}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$compile=t}(r.slspCollapseOtherInstController=(n(i,[{key:"$onInit",value:function(){try{var e;this.parentCtrl=this.afterCtrl.parentCtrl,"howovp"!==this.parentCtrl.serviceMode?this.parentCtrl.isCollapsed=!0:(this.parentCtrl.isCollapsed=!1,"P"==this.parentCtrl.availabilityType&&(this.noItemAtPickupLocation=e,e=document.querySelectorAll("prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('P')\"]"),angular.element(e).prepend(this.$compile('<div class="bar alert-bar zero-margin-bottom layout-align-center-center layout-row"><span class="center" translate="customized.alert.nolocations">â€‹</span></div>')(this.$scope)).addClass("noItemAtPickupLocation")))}catch(e){console.error("***SLSP*** an error occured: slspCollapseOtherInstController\n\n"),console.error(e.message)}}}]),i)).$inject=["$scope","$compile"]},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspCollapseOtherInstModule=void 0;e=e("./slsp-collapse-other-inst.controller");r.slspCollapseOtherInstModule=angular.module("slspCollapseOtherInstModule",[]).controller("slspCollapseOtherInstController",e.slspCollapseOtherInstController).component("slspCollapseOtherInstComponent",{bindings:{afterCtrl:"<"},controller:"slspCollapseOtherInstController",template:"\n"})},{"./slsp-collapse-other-inst.controller":3}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$compile=t,this.$timeout=r}(r.slspIconLabelOtherMembersController=(n(i,[{key:"$onInit",value:function(){var r=this;try{this.$timeout(function(){var e,t;r.parentCtrl=r.afterCtrl.parentCtrl,"E"==r.parentCtrl.availabilityType&&(r.iconLabelOtherMembersE=e,e=document.querySelectorAll("prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('E')\"] md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme"),angular.element(e).prepend(r.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g id="Outline_Icons"><g><path d="M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="39.43" y1="56.62" x2="145.06" y2="56.62" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="29.04" y1="89.74" x2="155.98" y2="89.74" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="37.22" y1="122.86" x2="148.17" y2="122.86" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/></g></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.online"></div></div>')(r.$scope)).addClass("icnLblOtherMembersE")),"P"==r.parentCtrl.availabilityType&&(r.iconLabelOtherMembersP2=t,t=document.querySelectorAll("prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('P')\"] md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme"),angular.element(t).prepend(r.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_4" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.physical"></div></div>')(r.$scope)).addClass("icnLblOtherMembersP2"))},0)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),i)).$inject=["$scope","$compile","$timeout"]},{}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspIconLabelOtherMembersModule=void 0;e=e("./slsp-icon-label-other-members.controller");r.slspIconLabelOtherMembersModule=angular.module("slspIconLabelOtherMembersModule",[]).controller("slspIconLabelOtherMembersController",e.slspIconLabelOtherMembersController).component("slspIconLabelOtherMembersComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelOtherMembersController",template:"\n"})},{"./slsp-icon-label-other-members.controller":5}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmAlmaOtherUnitsAfterModule=void 0;e=e("./slsp-icon-label-other-units/slsp-icon-label-other-units.module");(r.prmAlmaOtherUnitsAfterModule=angular.module("prmAlmaOtherUnitsAfterModule",[]).component("prmAlmaOtherUnitsAfter",{bindings:{parentCtrl:"<"},template:'<slsp-icon-label-other-units-component after-ctrl="$ctrl"></slsp-icon-label-other-units-component><slsp-alma-other-units-after parent-ctrl="$parent.$ctrl"></slsp-alma-other-units-after>'})).requires.push(e.slspIconLabelOtherUnitsModule.name)},{"./slsp-icon-label-other-units/slsp-icon-label-other-units.module":9}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$compile=t,this.$timeout=r}(r.slspIconLabelOtherUnitsController=(n(i,[{key:"$onInit",value:function(){var t=this;try{this.$timeout(function(){t.parentCtrl=t.afterCtrl.parentCtrl;var e=document.querySelectorAll("prm-alma-other-units md-content md-list.md-primoExplore-theme");angular.element(e).prepend(t.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g id="Outline_Icons"><g><path d="M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="39.43" y1="56.62" x2="145.06" y2="56.62" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="29.04" y1="89.74" x2="155.98" y2="89.74" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="37.22" y1="122.86" x2="148.17" y2="122.86" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/></g></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.online"></div></div>')(t.$scope)).addClass("icnLblOtherUnitsE"),t.parentCtrl.isCollapsed=!1},0)}catch(e){console.error("***SLSP*** an error occured:  \n\n"),console.error(e.message)}}}]),i)).$inject=["$scope","$compile","$timeout"]},{}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspIconLabelOtherUnitsModule=void 0;e=e("./slsp-icon-label-other-units.controller");r.slspIconLabelOtherUnitsModule=angular.module("slspIconLabelOtherUnitsModule",[]).controller("slspIconLabelOtherUnitsController",e.slspIconLabelOtherUnitsController).component("slspIconLabelOtherUnitsComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelOtherUnitsController",template:"\n"})},{"./slsp-icon-label-other-units.controller":8}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmAlmaViewitItemsAfterModule=void 0;var n=e("./slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.module"),e=e("./slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.module"),r=r.prmAlmaViewitItemsAfterModule=angular.module("prmAlmaViewitItemsAfterModule",[]).component("prmAlmaViewitItemsAfter",{bindings:{parentCtrl:"<"},template:'<slsp-icon-label-viewit-items-component after-ctrl="$ctrl"></slsp-icon-label-viewit-items-component>\n                    <slsp-collapse-related-e-resources-component after-ctrl="$ctrl"></slsp-collapse-related-e-resources-component>\n                    <slsp-alma-viewit-items-after parent-ctrl="$parent.$ctrl"></slsp-alma-viewit-items-after>'});r.requires.push(n.slspIconLabelViewitItemsModule.name),r.requires.push(e.slspCollapseRelatedEResourcesModule.name)},{"./slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.module":12,"./slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.module":14}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$compile=t,this.$timeout=r}(r.slspCollapseRelatedEResourcesController=(n(i,[{key:"$onInit",value:function(){var n=this;try{this.$timeout(function(){var e,t,r;n.parentCtrl=n.afterCtrl.parentCtrl,"ELECTRONIC_RELATED"===n.parentCtrl.serviceType&&((e=document.querySelector("#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-viewit > prm-alma-viewit-items:nth-child(2) > md-list")).classList.add("collapsed"),(t=document.createElement("button")).classList.add("section-title","md-button","md-primoExplore-theme","md-ink-ripple","collapse-related","collapsed"),t.innerHTML='<div layout="row" layout-align="start center" class="layout-align-start-center layout-row"><h3 class="medium-uppercase-bold" aria-expanded="false"><br><span translate="c.uresolverServicesForRelatedTitles" class="bold-text"></span><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right" class="arrow-icon" style=""><md-icon ng-if="($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())" md-svg-icon="primo-ui:chevron-right" role="presentation" class="md-primoExplore-theme"><svg width="100%" height="100%" viewBox="0 0 24 24" y="384" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"></path></svg></md-icon></prm-icon></h3></div>',t.addEventListener("click",function(){e.classList.toggle("collapsed"),t.querySelector(".arrow-icon").classList.toggle("rotate-90")}),(r=document.querySelector('#getit_link1_0 span[translate="c.uresolverServicesForRelatedTitles"]').parentNode).parentNode.replaceChild(t,r),n.$timeout(function(){n.$compile(t)(n.$scope)}))},50)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),i)).$inject=["$scope","$compile","$timeout"]},{}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspCollapseRelatedEResourcesModule=void 0;e=e("./slsp-collapse-related-e-resources.controller");r.slspCollapseRelatedEResourcesModule=angular.module("slspCollapseRelatedEResourcesModule",[]).controller("slspCollapseRelatedEResourcesController",e.slspCollapseRelatedEResourcesController).component("slspCollapseRelatedEResourcesComponent",{bindings:{afterCtrl:"<"},controller:"slspCollapseRelatedEResourcesController"})},{"./slsp-collapse-related-e-resources.controller":11}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$compile=t,this.$timeout=r}(r.slspIconLabelViewitItemsController=(n(i,[{key:"$onInit",value:function(){var n=this;try{this.$timeout(function(){var e,t,r;n.parentCtrl=n.afterCtrl.parentCtrl,"ELECTRONIC"==n.parentCtrl.serviceType?(n.iconLabelViewitItems=e,e=document.querySelectorAll("#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-viewit > prm-alma-viewit-items:nth-child(1) > md-list"),r=document.querySelectorAll(".icnWrp:nth-child(2)"),angular.element(r).detach(),angular.element(e).prepend(n.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g id="Outline_Icons"><g><path d="M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="39.43" y1="56.62" x2="145.06" y2="56.62" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="29.04" y1="89.74" x2="155.98" y2="89.74" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="37.22" y1="122.86" x2="148.17" y2="122.86" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/></g></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.online"></div></div>')(n.$scope)).addClass("icnLblViewitItems")):"DIGITAL"==n.parentCtrl.serviceType&&(n.iconLabelViewitItemsDigital=t,t=document.querySelectorAll("#getit_link1_0>div>prm-full-view-service-container>div.section-body>div>prm-alma-viewit>prm-alma-viewit-items:nth-child(2)>md-list"),r=document.querySelectorAll(".icnWrp:nth-child(2)"),angular.element(r).detach(),angular.element(t).prepend(n.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g id="Outline_Icons"><g><path d="M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="39.43" y1="56.62" x2="145.06" y2="56.62" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="29.04" y1="89.74" x2="155.98" y2="89.74" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="37.22" y1="122.86" x2="148.17" y2="122.86" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/></g></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.online"></div></div>')(n.$scope)).addClass("icnLblViewitItemsDigital"))},0)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),i)).$inject=["$scope","$compile","$timeout"]},{}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspIconLabelViewitItemsModule=void 0;e=e("./slsp-icon-label-viewit-items.controller");r.slspIconLabelViewitItemsModule=angular.module("slspIconLabelViewitItemsModule",[]).controller("slspIconLabelViewitItemsController",e.slspIconLabelViewitItemsController).component("slspIconLabelViewitItemsComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelViewitItemsController",template:"\n"})},{"./slsp-icon-label-viewit-items.controller":13}],15:[function(e,t,r){"use strict";e("./unige-ill-open-url/unige-ill-open-url.module.js"),t.exports="unigeIllOpenUrl"},{"./unige-ill-open-url/unige-ill-open-url.module.js":16}],16:[function(e,t,r){"use strict";function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}angular.module("unigeIllOpenUrl",[]).controller("unigeIllOpenUrlController",["$scope","$location",function(e,t){var i=this;this.$onInit=function(){var o;"/blankill"==t.path().toLowerCase()&&(i.search=t.search(),o=i.parentCtrl.requestService,e.$watch(function(){return angular.isDefined(o.formFields)?o.formFields:0},function(){var t,r,e,n;angular.isDefined(o.formFields)&&(e=o.formFields,l(n={title:"rft.title",articleTitle:"rft.atitle",journalTitle:"rft.jtitle"},"title","rft.btitle"),l(n,"author","rft.au"),l(n,"publisher","rft.publisher"),l(n,"publicationDate","rft.pubdate"),l(n,"issn","rft.issn"),l(n,"isbn","rft.isbn"),l(n,"doi","rft.doi"),l(n,"startPage","rft.spage"),l(n,"endPage","rft.epage"),l(n,"edition","rft.edition"),l(n,"volume","rft.volume"),l(n,"issue","rft.issue"),l(n,"pmid","rft.pmid"),t=n,angular.isDefined(i.search["rft.genre"])&&("article"==i.search["rft.genre"]||"book"==i.search["rft.genre"]&&""!=i.search["rft.atitle"])&&(o.formData.citationType="CR",o.formData.format="DIGITAL",o.formFields[2].events.onClick()),angular.forEach(e,function(e){angular.isDefined(t[e.key])&&(r=t[e.key],o.formData[e.name]=i.search[r])}),angular.isDefined(i.search["rft.date"])&&""!=i.search["rft.date"]&&""==o.formData.publicationDate&&(o.formData.publicationDate=i.search["rft.date"]),n=i.search["rft.spage"],angular.isDefined(i.search["rft.epage"])&&""!=i.search["rft.epage"]&&(n=n+"-"+i.search["rft.epage"]),o.formData.pagesToPhotocopy=n,"article"==i.search["rft.genre"]&&(o.formData.journalVolume=i.search["rft.volume"]),angular.isDefined(i.search["rft.au"])&&""!=i.search["rft.au"]||(e="",angular.isDefined(i.search["rft.aulast"])&&""!=i.search["rft.aulast"]&&(e=i.search["rft.aulast"]),angular.isDefined(i.search["rft.aufirst"])&&""!=i.search["rft.aufirst"]?e=e+", "+i.search["rft.aufirst"]:angular.isDefined(i.search["rft.auinit"])&&""!=i.search["rft.auinit"]&&(e=e+", "+i.search["rft.auinit"]),""!=e&&(o.formData.author=e)),!angular.isDefined(i.search["rft.genre"])||"book"!=i.search["rft.genre"]&&"journal"!=i.search["rft.genre"]||(n="",angular.isDefined(i.search["rft.volume"])&&""!=i.search["rft.volume"]&&(n="Vol: "+i.search["rft.volume"]),angular.isDefined(i.search["rft.issue"])&&""!=i.search["rft.issue"]&&(n=n+" NÂ°: "+i.search["rft.issue"]),angular.isDefined(i.search["rft.part"])&&""!=i.search["rft.part"]&&(n=n+" Part: "+i.search["rft.part"]),""!=(n=angular.isDefined(i.search["rft.doi"])&&""!=i.search["rft.doi"]?n+" DOI: "+i.search["rft.doi"]:n)&&(o.formData.comment=n)),angular.isDefined(i.search["rft.place"])&&""!=i.search["rft.place"]&&angular.isDefined(i.search["rft.publisher"])&&""!=i.search["rft.publisher"]&&(o.formData.publisher=i.search["rft.place"]+": "+i.search["rft.publisher"]),angular.isDefined(i.search["rft.genre"])&&"journal"==i.search["rft.genre"]&&(angular.isDefined(i.search["rft.jtitle"])&&""!=i.search["rft.jtitle"]&&(o.formData.title=i.search["rft.jtitle"]),""==o.formData.author&&(o.formData.author="N/A"),angular.isDefined(i.search["rft.issn"]))&&""!=i.search["rft.issn"]&&(o.formData.isbn=i.search["rft.issn"]+" (ISSN)"),angular.isDefined(o.formFields[42]))&&(o.formFields[42].mandatory=!0)}))}}]).component("prmBlankIllAfter",{bindings:{parentCtrl:"<"},controller:"unigeIllOpenUrlController",template:""})},{}],17:[function(e,t,r){"use strict";e("./unige-db-categories/unige-db-categories.module.js"),t.exports="unigeDbCategories"},{"./unige-db-categories/unige-db-categories.module.js":19}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.unigeDbCategoriesConfig={baseurl:"search?pfilter=rtype,exact,books,AND&tab=41SLSP_UGE_MyInst_CI&search_scope=MyInst_and_CI&mode=advanced&offset=0&query=any,contains,",refcode:{Anthropologie:{enc:"ENC_ANT"},Biologie:{enc:"ENC_BIO"},"FranÃ§ais":{enc:"ENC_FRA",ore:"ORE_FRA"},"MÃ©decine et santÃ©":{ore:"ORE_MED"},"Sciences Ã©conomiques":{enc:"ENC_ECO"},"Sciences sociales":{enc:"ENC_SOC"}}}},{}],19:[function(e,t,r){"use strict";var n=e("./unige-db-categories.config.js");angular.module("unigeDbCategories",[]).factory("unigeDbCategoriesConfig",n.unigeDbCategoriesConfig).controller("unigeDbCategoriesController",["$scope","$location","$translate",function(e,r,t){var u=this;this.$onInit=function(){var a,c;"/dbsearch"==r.path().toLowerCase()&&(t("unige.databasesearch.enc").then(function(e){angular.isDefined(e)&&(a=e)}),t("unige.databasesearch.ore").then(function(e){angular.isDefined(e)&&(c=e)}),e.$watch(function(){return angular.isDefined(u.parentCtrl.dbCategories)&&angular.isDefined(u.parentCtrl.dbCategories.dbcategory[0].path)?u.parentCtrl.dbCategories.dbcategory:0},function(){var t,o,i,l,s;angular.isDefined(u.parentCtrl.dbCategories)&&(t=n.unigeDbCategoriesConfig.refcode,o=n.unigeDbCategoriesConfig.baseurl,i=u.parentCtrl.$stateParams.vid,u.parentCtrl.dbOverrideCategories=[],l=r.$$absUrl.replace(/^(.*)query=[^&]*(\&.*databases=).*/,"$1query=contains,dbcategory$2"),s=u.parentCtrl.dbParamArray,u.parentCtrl.dbCategories.dbcategory.forEach(function(r){var n=new Object,e=(n.link=l+"category,"+r.path,angular.isDefined(r.displayValue)?n.term=r.displayValue:n.term=r.name,r.name===s[0]&&(n.selected="selected"),n.subcategories=[],t[r.name]);angular.isDefined(e)&&(angular.isDefined(e.enc)&&n.subcategories.push({term:a,link:o+e.enc+",AND&vid="+i}),angular.isDefined(e.ore))&&n.subcategories.push({term:c,link:o+e.ore+",AND&vid="+i}),0<r.dbcategories[0].dbcategory.length&&r.dbcategories[0].dbcategory.forEach(function(e){var t=new Object;angular.isDefined(e.path)?t.link=l+"category,"+e.path:t.link=l+"category,"+r.name+"â”€"+e.name,angular.isDefined(e.displayValue)?t.term=e.displayValue:t.term=e.name,e.name===s[1]&&(t.selected="selected"),n.subcategories.push(t)}),u.parentCtrl.dbOverrideCategories.push(n)}),document.getElementById("stickyDB").remove())}))}}]).component("prmDatabasesCategorizeAfter",{bindings:{parentCtrl:"<"},controller:"unigeDbCategoriesController",template:'<div class="unige-db-categories">\n    <h2 translate="dbcategories.title"></h2>\n    <ul ng-if="$parent.$ctrl.dbOverrideCategories">\n            <li ng-repeat="category in $parent.$ctrl.parentCtrl.dbOverrideCategories" ng-class="category.selected">\n                <a href="{{category.link}}">{{category.term}}</a>\n                <ul ng-if="category.subcategories.length > 0">\n                    <li ng-repeat="subcategory in category.subcategories" ng-class="subcategory.selected">\n                        <a target="_blank" href="{{subcategory.link}}">{{subcategory.term}}</a>\n                    </li>\n                </ul>\n            </li>\n    </ul>\n</div>\n\n'})},{"./unige-db-categories.config.js":18}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmFinesAfterModule=void 0;e=e("./slsp-closed-fines-bar/slsp-closed-fines-bar.module");(r.prmFinesAfterModule=angular.module("prmFinesAfterModule",[]).component("prmFinesAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-closed-fines-bar-component after-ctrl="$ctrl"></slsp-closed-fines-bar-component>\n            <slsp-fines-after parent-ctrl="$parent.$ctrl"></<slsp-fines-after>'})).requires.push(e.slspClosedFinesBarModule.name)},{"./slsp-closed-fines-bar/slsp-closed-fines-bar.module":22}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.showClosedFines=!1}(r.slspClosedFinesBarController=(n(i,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl}catch(e){console.error("***SLSP*** an error occurred: RequestCancelButton \n\n"),console.error(e.message)}}},{key:"$doCheck",value:function(){var e,t;("closed"===this.parentCtrl.finesTypeDropDownSelection||"all"===this.parentCtrl.finesTypeDropDownSelection)&&(e=this.parentCtrl.totalNumOfFines,angular.isArray(e))&&0<e.length?(t=!1,angular.forEach(e,function(e){"CLOSED"===e.fineType&&(t=!0)}),this.showClosedFines=t):this.showClosedFines=!1}}]),i)).$inject=["$scope"]},{}],22:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspClosedFinesBarModule=void 0;e=e("./slsp-closed-fines-bar.controller");r.slspClosedFinesBarModule=angular.module("slspClosedFinesBarModule",[]).controller("slspClosedFinesBarController",e.slspClosedFinesBarController).component("slspClosedFinesBarComponent",{bindings:{afterCtrl:"<"},controller:"slspClosedFinesBarController",template:'<div ng-if="$ctrl.showClosedFines" class="bar alert-bar">\n    <span translate="customize.libcard.closedfees"></span>\n    \n</div>'})},{"./slsp-closed-fines-bar.controller":21}],23:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmFullViewAfterModule=void 0;e=e("./slsp-icon-label/slsp-icon-label.module");(r.prmFullViewAfterModule=angular.module("prmFullViewAfterModule",[]).component("prmFullViewAfter",{bindings:{parentCtrl:"<"},template:'<slsp-icon-label-component after-ctrl="$ctrl"></slsp-icon-label-component><slsp-full-view-after parent-ctrl="$parent.$ctrl"></slsp-full-view-after>'})).requires.push(e.slspIconLabelModule.name)},{"./slsp-icon-label/slsp-icon-label.module":25}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$compile=t,this.$timeout=r}(r.slspIconLabelController=(n(i,[{key:"$onInit",value:function(){var e=this;try{this.$timeout(function(){e.parentCtrl=e.afterCtrl.parentCtrl},1e3)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),i)).$inject=["$scope","$compile","$timeout"]},{}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspIconLabelModule=void 0;e=e("./slsp-icon-label.controller");r.slspIconLabelModule=angular.module("slspIconLabelModule",[]).controller("slspIconLabelController",e.slspIconLabelController).component("slspIconLabelComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelController",template:"\n"})},{"./slsp-icon-label.controller":24}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.itemType=null,this.itemBarcode=null,this.hideTitle=!1,this.$element=e}(r.slspHideRapidoLoanLinkController=(n(i,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.itemBarcode=this.parentCtrl.item.itembarcode,this.itemType=this.parentCtrl.loansService.requestParams.type,"active"!==this.itemType&&(this.itemBarcode.includes("RAPIDO")||this.itemBarcode.includes("41SLSP"))&&(this.setTitle=function(){return this.parentCtrl.item.title},this.hideTitle=!0,this.$element.parent().parent().addClass("hide-title"))}catch(e){console.error("***SLSP*** an error occured: slspHideRapidoLoanLinkController\n\n"),console.error(e.message)}}}]),i)).$inject=["$element"]},{}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspHideRapidoLoanLinkModule=void 0;e=e("./slsp-hide-rapido-loan-link.controller");r.slspHideRapidoLoanLinkModule=angular.module("slspHideRapidoLoanLinkModule",[]).controller("slspHideRapidoLoanLinkController",e.slspHideRapidoLoanLinkController).component("slspHideRapidoLoanLinkComponent",{bindings:{afterCtrl:"<"},controller:"slspHideRapidoLoanLinkController",template:"<div ng-if=\"$ctrl.itemType !== 'active' && ($ctrl.itemBarcode.includes('RAPIDO') || $ctrl.itemBarcode.includes('41SLSP'))\" class=\"loan-item-title\">{{$ctrl.setTitle()}}</div>"})},{"./slsp-hide-rapido-loan-link.controller":26}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspLoanAfterModule=void 0;var n=e("./slsp-renew-item-text/slsp-renew-item-text.module"),e=e("./slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.module"),r=r.slspLoanAfterModule=angular.module("slspLoanAfterModule",[]).component("prmLoanAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-renew-item-text-component after-ctrl="$ctrl"></slsp-renew-item-text-component>\n            <slsp-hide-rapido-loan-link-component after-ctrl="$ctrl"></slsp-hide-rapido-loan-link-component>\n            <slsp-loan-after parent-ctrl="$parent.$ctrl"></slsp-loan-after>'});r.requires.push(n.slspRenewItemTextModule.name),r.requires.push(e.slspHideRapidoLoanLinkModule.name)},{"./slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.module":27,"./slsp-renew-item-text/slsp-renew-item-text.module":30}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function")}(r.slspRenewItemTextController=(n(i,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.getRenewText=function(){if(void 0!==this.parentCtrl.item.renewstatuses&&void 0!==this.parentCtrl.item.renewstatuses.renewstatus[0])return this.parentCtrl.item.renewstatuses.renewstatus[0]}}catch(e){console.error("***SLSP*** an error occured: slspRenewItemTextController\n\n"),console.error(e.message)}}}]),i)).$inject=[]},{}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspRenewItemTextModule=void 0;e=e("./slsp-renew-item-text.controller");r.slspRenewItemTextModule=angular.module("slspRenewItemTextModule",[]).controller("slspRenewItemTextController",e.slspRenewItemTextController).component("slspRenewItemTextComponent",{bindings:{afterCtrl:"<"},controller:"slspRenewItemTextController",template:'<div layout="row" class="LibInfo" layout-align="start center">\n\n\n    <div class="md-subhead">\n        <span class="md-subhead">{{$ctrl.getRenewText()}}</span>\n\n    </div>'})},{"./slsp-renew-item-text.controller":29}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmLocationHoldingsAfterModule=void 0;var n=e("./slsp-i-button/slsp-i-button.module"),e=e("./usi-location-open-close/usi-location-open-close.module"),r=r.prmLocationHoldingsAfterModule=angular.module("prmLocationHoldingsAfterModule",[]).component("prmLocationHoldingsAfter",{bindings:{parentCtrl:"<"},template:'\n\t\t\n        <slsp-i-button-component after-ctrl="$ctrl"></slsp-i-button-component>\n        <usi-location-open-close-component after-ctrl="$ctrl"></usi-location-open-close-component>\n        <slsp-location-holdings-after parent-ctrl="$parent.$ctrl"></slsp-location-holdings-after>\n        \n\t\t'});r.requires.push(n.slspIButtonModule.name),r.requires.push(e.usiLocationOpenCloseModule.name)},{"./slsp-i-button/slsp-i-button.module":33,"./usi-location-open-close/usi-location-open-close.module":36}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$rootScope=t,this.biblinkBase="https://registration.slsp.ch/libraries/?library="}(r.slspIButtonController=(n(i,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl.parentCtrl,this.getLibrary=this.getLibrary.bind(this),this.getLibraryCode=this.getLibraryCode.bind(this),this.getLanguage=this.getLanguage.bind(this)}},{key:"getLibrary",value:function(){if(void 0!==this.parentCtrl.currLoc&&void 0!==this.parentCtrl.currLoc.location)return this.parentCtrl.currLoc.location.librarycodeTranslation}},{key:"getLibraryCode",value:function(){if(void 0!==this.parentCtrl.currLoc&&void 0!==this.parentCtrl.currLoc.location)return this.parentCtrl.currLoc.location.libraryCode}},{key:"getLanguage",value:function(){var e=this.$rootScope.$$childHead.$ctrl.userSessionManagerService;return e?e.getUserLanguage()||$window.appConfig["primo-view"]["attributes-map"].interfaceLanguage:"en"}},{key:"specialInfoBox",value:function(){var e=document.querySelectorAll("prm-location-items");angular.element(e).addClass("special-library-info")}}]),i)).$inject=["$scope","$rootScope"]},{}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspIButtonModule=void 0;e=e("./slsp-i-button.controller");r.slspIButtonModule=angular.module("slspIButtonModule",[]).controller("slspIButtonController",e.slspIButtonController).component("slspIButtonComponent",{bindings:{afterCtrl:"<"},controller:"slspIButtonController",template:"<div ng-if=\"['E73', 'E76', 'E79', 'tri_isdc', 'USTAR', 'USTAZ', 'A154', 'A164', 'A178', 'A186', 'A188', 'A190', 'A191', 'A196', 'A200', 'A202', 'A204', 'A206', 'A220', 'A222', 'A226', 'A232', 'A235', 'A238', 'A245', 'A251', 'A253', 'A255', 'A256', 'A264', 'A265', 'A266', 'A278', 'A280', 'A298', 'A301', 'A304', 'A316', 'A320', 'A344', 'A348', 'A356', 'A361', 'A363', 'A368', 'A369', 'A373', 'A374', 'A381', 'B440', 'URIET', 'StASO','B429', 'LUSAR', 'UMWI', 'Z16'].includes($ctrl.getLibraryCode())\"\n    layout=\"row\" class=\"spezLibInfo bar alert-bar zero-margin-bottom layout-align-center-center layout-row\"\n    layout-align=\"center center\">\n    <span class=\"md-subhead\"><span class=\"md-subhead-part1\" translate=\"customized.onsite.before\">&nbsp;</span>\n        <a ng-href=\"{{ $ctrl.biblinkBase }}{{ $ctrl.getLibraryCode() }}&lang={{ $ctrl.getLanguage() }}\"\n            target=\"_blank\">{{ $ctrl.getLibrary() }}</a>\n    </span>{{$ctrl.specialInfoBox()}}\n</div>\n\n\n\n<div class=\"i-button neutralized-button arrow-link-button md-button md-primoExplore-theme md-ink-ripple\">\n    <a ng-href=\"{{ $ctrl.biblinkBase }}{{ $ctrl.getLibraryCode() }}&lang={{ $ctrl.getLanguage() }}\"\n        target=\"_blank\"><span>{{ $ctrl.getLibrary() }}</span>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"library-info\"\n        x=\"0px\" y=\"0px\" width=\"22px\" height=\"22px\" viewBox=\"0 0 100 100\" xml:space=\"preserve\">\n            <g>\n                <path\n                    d=\"M50,95C25.187,95,5,74.813,5,50C5,25.187,25.187,5,50,5c24.813,0,45,20.187,45,45C95,74.813,74.813,95,50,95z M50,10.625   c-21.711,0-39.375,17.664-39.375,39.375c0,21.711,17.664,39.375,39.375,39.375c21.712,0,39.375-17.664,39.375-39.375   C89.375,28.289,71.712,10.625,50,10.625z\" />\n            </g>\n            <g>\n                <g>\n                    <path\n                        d=\"M61.516,67.309l2.288,1.063c-4.021,3.073-7.879,5.476-11.577,7.208c-3.698,1.733-6.748,2.599-9.149,2.599    c-1.342,0-2.322-0.255-2.947-0.767c-0.623-0.512-0.937-1.319-0.937-2.424c0-2.73,1.145-7.004,3.432-12.819    c2.288-5.815,3.432-9.933,3.432-12.349c0-0.446-0.127-0.787-0.382-1.024c-0.254-0.236-0.612-0.355-1.074-0.355    c-0.74,0-1.641,0.223-2.704,0.67c-1.063,0.447-2.379,1.156-3.951,2.127l-2.149-1.182c4.297-2.888,8.25-5.146,11.854-6.775    c3.604-1.627,6.422-2.441,8.456-2.441c1.341,0,2.333,0.236,2.98,0.709c0.647,0.472,0.971,1.181,0.971,2.126    c0,0.919-0.739,3.874-2.218,8.862c-0.51,1.681-0.901,3.007-1.179,3.979c-0.971,3.256-1.733,5.961-2.288,8.113    c-0.554,2.153-0.831,3.454-0.831,3.9c0,0.551,0.15,0.959,0.45,1.222c0.301,0.263,0.773,0.394,1.421,0.394    c0.646,0,1.478-0.237,2.495-0.71C58.927,68.963,60.129,68.254,61.516,67.309z\" />\n                </g>\n                <g>\n                    <circle cx=\"56.198\" cy=\"29.933\" r=\"8.004\" />\n                </g>\n            </g>\n        </svg>\n\n\n        <prm-icon link-arrow=\"\" icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"chevron-right\"\n            [display-mode]=\"::$ctrl.displayMode\" id=\"library-info-arrow\"><md-icon\n                ng-if=\"::($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())\"\n                md-svg-icon=\"primo-ui:chevron-right\" role=\"presentation\" class=\"md-primoExplore-theme\">\n                <svg id=\"chevron-right_cache76\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" y=\"384\"\n                    xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\">\n                    <path d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"></path>\n                </svg></md-icon><prm-icon-after parent-ctrl=\"$ctrl\"></prm-icon-after>\n        </prm-icon>\n    </a>\n</div>"})},{"./slsp-i-button.controller":32}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.usiLocationOpenCloseConfig=function(){return{closedLocations:["610110000","610110004","610110006","610130000","610130005","610130006","610130007","610130008","610130009","610130011","610130013","610130014","610130015","610150000","610150003","610150007","610150008","610150009","610200000","610200002","610200007","610200014","610200019","610200021","610300000","610300001","610300002","610300004","610300005","610300006","610300007","610300010","610300011","610300012","610310003","610310005","610320002","610330002","610340001","610360003","610390014","610390023","610390026","610390028","610390029","610400000","610400002","610400003","610400010","610430004","610440007","610700000","610760001","610760002","610760003","610760004","610760005","610760006","610760007","610760008","610760009","610760010","610760011","610770003","610770004","610800000","610800001","610800002","610800003","610800004","610800005","610800010","610800011","610800012","610800013","610800014","610800015","610800016","610800017","610800020","610800021","610800022","610800023","610800024","610800025","610800026","610800027"],libraryId:"41SLSP_UGE"}}},{}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.usilocation={},this.ethConfigService=e,this.config=t,this.$scope=r}(r.usiLocationOpenCloseController=(n(i,[{key:"$onInit",value:function(){var e=this;this.$scope.$watch(function(){return angular.isDefined(e.afterCtrl)&&angular.isDefined(e.afterCtrl.parentCtrl.currLoc)?e.afterCtrl.parentCtrl.currLoc:0},function(){if(angular.isDefined(e.afterCtrl.parentCtrl.currLoc)&&void 0!==e.afterCtrl.parentCtrl.currLoc)try{e.usilocation.isopen=!e.config.closedLocations.includes(e.afterCtrl.parentCtrl.currLoc.location.subLocationCode),e.usilocation.isuge=e.afterCtrl.parentCtrl.currLoc.location.organization==e.config.libraryId}catch(e){throw console.error("***USI*** an error occured: usiLocationOpenCloseController.$onInit\n\n"),console.error(e.message),e}})}}]),i)).$inject=["ethConfigService","usiLocationOpenCloseConfig","$scope"]},{}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.usiLocationOpenCloseModule=void 0;var n=e("./usi-location-open-close.config"),o=e("./usi-location-open-close.controller"),e=e("../../services/eth-config.service");r.usiLocationOpenCloseModule=angular.module("usiLocationOpenCloseModule",[]).factory("ethConfigService",e.ethConfigService).factory("usiLocationOpenCloseConfig",n.usiLocationOpenCloseConfig).controller("usiLocationOpenCloseController",o.usiLocationOpenCloseController).component("usiLocationOpenCloseComponent",{controller:"usiLocationOpenCloseController",bindings:{afterCtrl:"<"},template:'<div class="open-closed-container" ng-if="$ctrl.usilocation.isopen && $ctrl.usilocation.isuge">\n\t<div class="open-closed-img">\n\t\t<img src="/discovery/custom/41SLSP_UGE-VU1/img/open_shelf_traced_icon.png" alt="">\n\t</div>\n\t<div class="unige-open-txt">\n\t\t<span translate=\'unige.stacks_open\'>\n\t\t\tOpen stacks\n\t\t</span>\n\t</div>\n</div>\n<div class="open-closed-container" ng-if="!$ctrl.usilocation.isopen && $ctrl.usilocation.isuge">\n\t<div class="open-closed-img">\n\t\t<img src="/discovery/custom/41SLSP_UGE-VU1/img/closed_shelf_traced_icon.png" alt="">\n\t</div>\n\t<div class="unige-closed-txt">\n\t\t<span translate=\'unige.stacks_closed\'>\n\t\t\tClosed stacks\n\t\t</span>\n\t</div>\n</div>'})},{"../../services/eth-config.service":110,"./usi-location-open-close.config":34,"./usi-location-open-close.controller":35}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethLocationItemsAfterModule=void 0;var n=e("./eth-mapongo/eth-mapongo-check.module"),o=e("./eth-mapongo/eth-mapongo.module"),e=e("./slsp-icon-label-location-items/slsp-icon-label-location-items.module"),r=r.ethLocationItemsAfterModule=angular.module("ethLocationItemsAfterModule",[]).component("prmLocationItemsAfter",{bindings:{parentCtrl:"<"},template:'\n\t\t<eth-mapongo-check after-ctrl="$ctrl"></eth-mapongo-check>\n        <slsp-icon-label-location-items-component after-ctrl="$ctrl"></slsp-icon-label-location-items-component>\n        <slsp-location-items-after parent-ctrl="$parent.$ctrl"></slsp-location-items-after>\n        \n\t\t'});r.requires.push(n.ethMapongoCheckModule.name),r.requires.push(o.ethMapongoModule.name),r.requires.push(e.slspIconLabelLocationItemsModule.name)},{"./eth-mapongo/eth-mapongo-check.module":40,"./eth-mapongo/eth-mapongo.module":44,"./slsp-icon-label-location-items/slsp-icon-label-location-items.module":46}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ethConfigService=["$rootScope",function(t){return{getLanguage:function(){try{var e=t.$$childHead.$ctrl.userSessionManagerService;return e?e.getUserLanguage()||$window.appConfig["primo-view"]["attributes-map"].interfaceLanguage:(console.error("***ETH*** ethConfigService: userSessionManagerService not available"),"en")}catch(e){return console.error("***ETH*** an error occured: ethConfigService.getLanguage():"),console.error(e.message),"en"}},getLabel:function(e,t){try{var r=this.getLanguage();return e.label[t]?e.label[t][r]||e.label[t].en:(console.error("***ETH*** ethConfigService.getLabel: '"+t+"' not in config"),t)}catch(e){return console.error("***ETH*** an error occured: ethConfigService.getLabel():"),console.error(e.message),""}},getUrl:function(e,t){try{var r=this.getLanguage();return e.url[t]?e.url[t][r]||e.url[t].en:(console.error("***ETH*** ethConfigService.getUrl: '"+t+"' not in config"),"")}catch(e){return console.error("***ETH*** an error occured: ethConfigService.getUrl():"),console.error(e.message),""}}}}]},{}],39:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r,n){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$compile=t,this.$element=r,this.ethMapongoLibrariesService=n,this.isMapongoLibrary=!0,this.noLocationItemAfter=0}(r.ethMapongoCheckController=(n(i,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl.parentCtrl}},{key:"$doCheck",value:function(){try{var e=this.$element[0].parentElement.parentElement.getElementsByTagName("prm-location-item-after"),t=e.length;if(!(t<=this.noLocationItemAfter)&&(this.noLocationItemAfter=t,this.isMapongoLibrary))if(this.ethMapongoLibrariesService.isMapongoLibrary(this.parentCtrl.loc.location.libraryCode)){var r=[].slice.call(e);this.recordid=this.parentCtrl.item.pnx.control.sourcerecordid[0];for(var n=0;n<this.parentCtrl.loc.items.length;n++){if(n>=r.length)return;var o,i,l=this.parentCtrl.loc.items[n],s=r[n];s.querySelector("eth-mapongo")||this.ethMapongoLibrariesService.isMapongoSubLocation(this.parentCtrl.loc.location.libraryCode,l._additionalData.secondarylocationname)&&this.ethMapongoLibrariesService.isAvailable(l._additionalData.itemstatusname)&&(this.subLocationCode=this.ethMapongoLibrariesService.getSubLocationCode(this.parentCtrl.loc.location.libraryCode,l._additionalData.secondarylocationname),this.callnumber=l._additionalData.callnumber,o=l.fullItemFields.filter(function(e){return-1<e.indexOf("ZusÃ¤tzliche Signatur:")||-1<e.indexOf("Additional call number:")}),this.addCallnumber="",0<o.length&&(this.addCallnumber=o[0].replace("ZusÃ¤tzliche Signatur: ","").replace("Additional call number: ","")),""!=this.addCallnumber&&(this.callnumber=this.addCallnumber),i=l.fullItemFields.filter(function(e){return-1<e.indexOf("Barcode:")||-1<e.indexOf("Strichcode:")}),this.barcode="",0<i.length&&(this.barcode=i[0].replace("Barcode: ","").replace("Strichcode: ","")),angular.element(s).append(this.$compile('<eth-mapongo after-ctrl="$ctrl" class="eth-mapongo-container" recordid="'+this.recordid+'" barcode="'+this.barcode+'" callnumber="'+this.callnumber+'" sublocation="'+this.subLocationCode+'"parent-ctrl="$ctrl.parentCtrl"></eth-mapongo>')(this.$scope)))}}else this.isMapongoLibrary=!1}catch(e){console.error("***ETH*** ethMapongoCheckController.$doCheck:"),console.error(e.message)}}}]),i)).$inject=["$scope","$compile","$element","ethMapongoLibrariesService"]},{}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethMapongoCheckModule=void 0;var n=e("./eth-mapongo-libraries.service"),e=e("./eth-mapongo-check.controller");r.ethMapongoCheckModule=angular.module("ethMapongoCheckModule",[]).factory("ethMapongoLibrariesService",n.ethMapongoLibrariesService).controller("ethMapongoCheckController",e.ethMapongoCheckController).component("ethMapongoCheck",{bindings:{afterCtrl:"<"},controller:"ethMapongoCheckController"})},{"./eth-mapongo-check.controller":39,"./eth-mapongo-libraries.service":41}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ethMapongoLibrariesService=[function(){var n=[{shortname:"ZHdK-MIZ",name:"ZHdK-MIZ",libraryCode:"E65",baseUrl:"https://zhdk.mapongo.de",locationCodeWhiteList:["E65G1","E65G2","E65E1","E65U1","E65U4"],locationWhiteList:["Galeriegeschoss","Galeriegeschoss","Eingangsgeschoss","Untergeschoss","Untergeschoss Curating Degree Zero Archive"]},{shortname:"ZHAW-HSB-ZH",name:"ZHAW Hochschulbibliothek ZÃ¼rich",libraryCode:"E97",baseUrl:"https://zhdk.mapongo.de",locationCodeWhiteList:["E97E1"],locationWhiteList:["Eingangsgeschoss"]},{shortname:"ZHAW-HSB-WIN",name:"ZHAW Hochschulbibliothek Winterthur",libraryCode:"E51",baseUrl:"https://zhaw.mapongo.de",locationCodeWhiteList:["E51BA","E51B0","E51B9","E51B2","E51B8","E51BN","E51BL","E51BG","E51BT","E51BB","E51BW","E51BA","E51BK","E51BR"],locationWhiteList:["Architektur und Bau - 1. ZG","Neuerwerbungen - EG","Handapparate - EG","Compactus, offen - EG","Zeitschriften - EG","Allgemeines und Nachschlagewerke - EG","Angewandte Linguistik - EG","Gesundheit und Medizin - EG","Technik und Naturwissenschaften - 1. ZG","Wissenschaft und Bildung - EG","Wirtschaft und Management - 1. ZG","Architektur und Bau - 1. ZG","Kunst und Unterhaltung - EG","Recht und Politik - 2. ZG"]},{shortname:"PHZH",name:"PH ZÃ¼rich, Bibliothek",libraryCode:"UPHZH",baseUrl:"https://phzh.mapongo.de",locationCodeWhiteList:["ULFHF","ULFHG","ULFHN","ULFHS"],locationWhiteList:["Stockwerk F - frei zugÃ¤nglich","Stockwerk G - frei zugÃ¤nglich","Stockwerk H Nord - frei zugÃ¤nglich","Stockwerk H SÃ¼d - frei zugÃ¤nglich"]},{shortname:"HGK-MED",name:"FHNW HGK-Mediathek Basel",libraryCode:"E75",baseUrl:"https://mediathek.hgk.fhnw.ch/nebis",locationCodeWhiteList:["HAP","E75BI","E75AC","E75MA","E75VS"],locationWhiteList:["Handapparat","Mediathek","Archiv","Magazin","Verschiedene Standorte"]},{shortname:"HGK-MED",name:"FHNW Campus Muttenz Bibliothek",libraryCode:"E44",baseUrl:"https://fhnw-cmu.mapongo.de",locationCodeWhiteList:["E44TE","E44BI","E44MG","E44VS"],locationWhiteList:["Ausleihe auf Anfrage, bitte Bibliothek kontaktieren","Bibliothek","Magazin: Nicht frei zugÃ¤nglich, zur Abholung bestellen","Verschiedene Standorte"]}],e=["Exemplar ist vorhanden","Item in place","Exemplaire en rayon","Copia in posizione"];return{isMapongoLibrary:function(t){return 0<n.filter(function(e){return e.libraryCode===t}).length},isMapongoSubLocation:function(t,r){return 0<n.filter(function(e){return e.libraryCode===t&&-1<e.locationWhiteList.indexOf(r)}).length},getBaseUrl:function(e){var t;return t=e,(e=0<(e=n.filter(function(e){return e.libraryCode===t})).length?e[0]:null)?e.baseUrl:""},getSubLocationCode:function(t,e){var r=n.filter(function(e){return e.libraryCode===t});return 0===r.length?null:(e=r[0].locationWhiteList.indexOf(e),r[0].locationCodeWhiteList[e])},isAvailable:function(t){return 0<e.filter(function(e){return e===t}).length}}}]},{}],42:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ethMapongoConfig=function(){return{label:{qrc:{de:"Karte auf Smartphone laden",en:"Load map on your smartphone",fr:"Charger la carte sur votre smartphone"}}}}},{}],43:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.ethMapongoLibrariesService=e,this.ethConfigService=t,this.config=r,this.lang=this.ethConfigService.getLanguage()}(r.ethMapongoController=(n(i,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl.parentCtrl}},{key:"getMapongoImageSrc",value:function(){var e="";try{if(!this.parentCtrl.loc||!this.parentCtrl.loc.location)return void console.error("***ETH*** ethMapongoController.getMapongoImageSrc: loc or loc.location not available");var t=this.parentCtrl.loc.location,e=this.ethMapongoLibrariesService.getBaseUrl(t.libraryCode)+"/static_images/projects/1/search_thumbnail.jpg?project_id=1&search_key="+encodeURIComponent(this.callnumber);"E51"!==t.libraryCode&&"UPHZH"!==t.libraryCode||(e+="&search_context2="+encodeURIComponent(this.sublocation)),"E65"===t.libraryCode&&(e+="&e="+encodeURIComponent(this.recordid))}catch(e){console.error("***ETH*** EthMapongoController.getMapongoImageSrc:"),console.error(e.message)}return e}},{key:"getMapongoUrl",value:function(){var e="";try{var t=this.parentCtrl.loc.location,e=this.ethMapongoLibrariesService.getBaseUrl(t.libraryCode)+"/viewer?project_id=1&search_key="+encodeURIComponent(this.callnumber)+"&language="+this.lang+"&e="+encodeURIComponent(this.recordid);"E51"!==t.libraryCode&&"UPHZH"!==t.libraryCode||(e+="&search_context2="+encodeURIComponent(this.sublocation)),""!=this.barcode&&(e+="&bcd="+this.barcode)}catch(e){console.error("***ETH*** EthMapongoController.getMapongoUrl:"),console.error(e.message)}return e}},{key:"getMapongoQRC",value:function(){var e="";try{var t=this.parentCtrl.loc.location,e=this.ethMapongoLibrariesService.getBaseUrl(t.libraryCode)+"/static_images/projects/1/search_qrcode.png?project_id=1&search_key="+encodeURIComponent(this.callnumber)+"&language="+this.lang+"&e="+encodeURIComponent(this.recordid);"E51"!==t.libraryCode&&"UPHZH"!==t.libraryCode||(e+="&search_context2="+encodeURIComponent(this.sublocation)),""!=this.barcode&&(e+="&bcd="+this.barcode)}catch(e){console.error("***ETH*** EthMapongoController.getMapongoQRC:"),console.error(e.message)}return e}}]),i)).$inject=["ethMapongoLibrariesService","ethConfigService","ethMapongoConfig"]},{}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethMapongoModule=void 0;var n=e("./eth-config.service"),o=e("./eth-mapongo.config"),i=e("./eth-mapongo-libraries.service"),e=e("./eth-mapongo.controller");r.ethMapongoModule=angular.module("ethMapongoModule",[]).factory("ethConfigService",n.ethConfigService).factory("ethMapongoConfig",o.ethMapongoConfig).factory("ethMapongoLibrariesService",i.ethMapongoLibrariesService).controller("ethMapongoController",e.ethMapongoController).component("ethMapongo",{bindings:{afterCtrl:"<",recordid:"@",callnumber:"@",barcode:"@",sublocation:"@"},controller:"ethMapongoController",template:'<div class="eth-mapongo" layout="row" layout-sm="column" layout-xs="column">\n    <div class="eth-mapongo-qrc">\n        <img alt="QR Code" src="{{$ctrl.getMapongoQRC()}}"/>\n        <div>{{::$ctrl.ethConfigService.getLabel($ctrl.config, \'qrc\')}}</div>\n    </div>\n    <div class="eth-mapongo-link">\n        <a target="_blank" href="{{$ctrl.getMapongoUrl()}}">\n            <img alt="Mapongo" src="{{$ctrl.getMapongoImageSrc()}}"/>\n        </a>\n    </div>\n</div>\n'})},{"./eth-config.service":38,"./eth-mapongo-libraries.service":41,"./eth-mapongo.config":42,"./eth-mapongo.controller":43}],45:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$compile=t,this.$timeout=r}(r.slspIconLabelLocationItemsController=(n(i,[{key:"$onInit",value:function(){var n=this;try{this.$timeout(function(){var e,t,r;n.parentCtrl=n.afterCtrl.parentCtrl,"getit_link1_0"===n.parentCtrl.serviceScrollId&&(n.iconLabelLocationItems=e,e=document.querySelectorAll("#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column"),angular.element(e).prepend(n.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.physical"></div></div>')(n.$scope)).addClass("icnLblLocationItems")),"getit_link1_1"===n.parentCtrl.serviceScrollId&&(n.iconLabelLocationItems3=t,t=document.querySelectorAll("#getit_link1_1 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column"),angular.element(t).prepend(n.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.physical"></div></div>')(n.$scope)).addClass("icnLblLocationItems3")),"alma_other_members"===n.parentCtrl.serviceScrollId&&(n.iconLabelLocationItems2=r,r=document.querySelectorAll("prm-alma-other-members md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column"),angular.element(r).prepend(n.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.physical"></div></div>')(n.$scope)).addClass("icnLblLocationItems2"))},0)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),i)).$inject=["$scope","$compile","$timeout"]},{}],46:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspIconLabelLocationItemsModule=void 0;e=e("./slsp-icon-label-location-items.controller");r.slspIconLabelLocationItemsModule=angular.module("slspIconLabelLocationItemsModule",[]).controller("slspIconLabelLocationItemsController",e.slspIconLabelLocationItemsController).component("slspIconLabelLocationItemsComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelLocationItemsController",template:"\n"})},{"./slsp-icon-label-location-items.controller":45}],47:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethLocationsAfterModule=void 0;var n=e("./eth-locations-filter/eth-locations-filter.module"),o=e("./slsp-icon-label-locations/slsp-icon-label-locations.module"),e=e("./slsp-collapse-related/slsp-collapse-related.module"),r=r.ethLocationsAfterModule=angular.module("ethLocationsAfterModule",[]).component("prmLocationsAfter",{bindings:{parentCtrl:"<"},template:'<eth-locations-filter-component after-ctrl="$ctrl"></eth-locations-filter-component><slsp-icon-label-locations-component after-ctrl="$ctrl"></slsp-icon-label-locations-component><slsp-collapse-related-component after-ctrl="$ctrl"></slsp-collapse-related-component><slsp-locations-after parent-ctrl="$parent.$ctrl"></slsp-locations-after>'});r.requires.push(n.ethLocationsFilterModule.name),r.requires.push(o.slspIconLabelLocationsModule.name),r.requires.push(e.slspCollapseRelatedModule.name)},{"./eth-locations-filter/eth-locations-filter.module":49,"./slsp-collapse-related/slsp-collapse-related.module":51,"./slsp-icon-label-locations/slsp-icon-label-locations.module":53}],48:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$timeout=e,this.$scope=t}(r.ethLocationsFilterController=(n(i,[{key:"$onInit",value:function(){var n=this;try{this.parentCtrl=this.afterCtrl.parentCtrl,this.$scope.$watch("this.$ctrl.parentCtrl.locations[0].location.librarycodeTranslation",function(e,t,r){!r.$ctrl.parentCtrl.isLocationsFilterVisible&&e&&""!=e&&n.$timeout(function(){r.$ctrl.parentCtrl.isLocationsFilterVisible=!0},0)},!0)}catch(e){console.error("***ETH*** an error occured: ethLocationsFilterController\n\n"),console.error(e.message)}}}]),i)).$inject=["$timeout","$scope"]},{}],49:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethLocationsFilterModule=void 0;e=e("./eth-locations-filter.controller");r.ethLocationsFilterModule=angular.module("ethLocationsFilterModule",[]).controller("ethLocationsFilterController",e.ethLocationsFilterController).component("ethLocationsFilterComponent",{bindings:{afterCtrl:"<"},controller:"ethLocationsFilterController"})},{"./eth-locations-filter.controller":48}],50:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$timeout=e,this.$scope=t}(r.slspCollapseRelatedController=(n(i,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,angular.isArray(this.parentCtrl.locations)&&0<this.parentCtrl.locations.length&&(this.parentCtrl.relatedLocationsListLimit=0)}catch(e){console.error("***SLSP*** an error occured: slspCollapseRelatedController\n\n"),console.error(e.message)}}}]),i)).$inject=["$timeout","$scope"]},{}],51:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspCollapseRelatedModule=void 0;e=e("./slsp-collapse-related.controller");r.slspCollapseRelatedModule=angular.module("slspCollapseRelatedModule",[]).controller("slspCollapseRelatedController",e.slspCollapseRelatedController).component("slspCollapseRelatedComponent",{bindings:{afterCtrl:"<"},controller:"slspCollapseRelatedController",template:"\n"})},{"./slsp-collapse-related.controller":50}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$compile=t,this.$timeout=r}(r.slspIconLabelLocationsController=(n(i,[{key:"$onInit",value:function(){var n=this;try{this.$timeout(function(){var e,t,r;n.parentCtrl=n.afterCtrl.parentCtrl,"getit_link1_0"===n.parentCtrl.serviceScrollId&&(n.iconLabelLocations=e,e=document.querySelectorAll('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if="!$ctrl.enableLibraryLevelList"] > md-list:nth-child(1)'),angular.element(e).prepend(n.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.physical"></div></div>')(n.$scope)).addClass("icnLblLocations")),"getit_link1_1"===n.parentCtrl.serviceScrollId&&(n.iconLabelLocations3=t,t=document.querySelectorAll('#getit_link1_1 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if="!$ctrl.enableLibraryLevelList"] > md-list:nth-child(1)'),angular.element(t).prepend(n.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.physical"></div></div>')(n.$scope)).addClass("icnLblLocations3")),"alma_other_members"===n.parentCtrl.serviceScrollId&&(n.iconLabelLocations2=r,r=document.querySelectorAll('prm-alma-other-members prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if="!$ctrl.enableLibraryLevelList"] > md-list:nth-child(1)'),angular.element(r).prepend(n.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.physical"></div></div>')(n.$scope)).addClass("icnLblLocations2"))},0)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),i)).$inject=["$scope","$compile","$timeout"]},{}],53:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspIconLabelLocationsModule=void 0;e=e("./slsp-icon-label-locations.controller");r.slspIconLabelLocationsModule=angular.module("slspIconLabelLocationsModule",[]).controller("slspIconLabelLocationsController",e.slspIconLabelLocationsController).component("slspIconLabelLocationsComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelLocationsController",template:"\n"})},{"./slsp-icon-label-locations.controller":52}],54:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmLoginAfterModule=void 0;e=e("./slsp-login-box/slsp-login-box.module");(r.prmLoginAfterModule=angular.module("prmLoginAfterModule",[]).component("prmLoginAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-login-box-component after-ctrl="$ctrl"></slsp-login-box-component>\n            <slsp-login-after parent-ctrl="$parent.$ctrl"></<slsp-login-after>'})).requires.push(e.slspLoginBoxModule.name)},{"./slsp-login-box/slsp-login-box.module":56}],55:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$compile=t,this.$timeout=r}(r.slspLoginBoxController=(n(i,[{key:"$onInit",value:function(){var t=this;try{this.$timeout(function(){t.parentCtrl=t.afterCtrl.parentCtrl;var e=angular.element(document.querySelectorAll("prm-login div > md-content > md-list > md-list-item:nth-child(1)")),e=(angular.element(e).append(t.$compile('<p class="parallelLoginDescription" translate="parallel.login.description1"><a href="https://help.switch.ch/eduid/" onclick="window.open(https://help.switch.ch/eduid/);return false;" class="md-primoExplore-theme" style="text-decoration:underline"></a></p>')(t.$scope)).addClass("authMethSaml"),angular.element(document.querySelectorAll("prm-login div > md-content > md-list > md-list-item:nth-child(2)")));angular.element(e).append(t.$compile('<p class="parallelLoginDescription" translate="parallel.login.description2"></p>')(t.$scope)).addClass("authMethAlma"),console.log("authentication Method",e)},0)}catch(e){console.error("***SLSP*** an error occured: Rapido hide Library\n\n"),console.error(e.message)}}}]),i)).$inject=["$scope","$compile","$timeout"]},{}],56:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspLoginBoxModule=void 0;e=e("./slsp-login-box.controller");r.slspLoginBoxModule=angular.module("slspLoginBoxModule",[]).controller("slspLoginBoxController",e.slspLoginBoxController).component("slspLoginBoxComponent",{bindings:{afterCtrl:"<"},controller:"slspLoginBoxController"})},{"./slsp-login-box.controller":55}],57:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmOfferDetailsTileAfterModule=void 0;e=e("./slsp-multivolume-request/slsp-multivolume-request.module");(r.prmOfferDetailsTileAfterModule=angular.module("prmOfferDetailsTileAfterModule",[]).component("prmOfferDetailsTileAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-multivolume-request-component after-ctrl="$ctrl"></slsp-multivolume-request-component>\n            <slsp-offer-details-tile-after parent-ctrl="$parent.$ctrl"></<slsp-offer-details-tile-after>'})).requires.push(e.slspMultivolumeRequestModule.name)},{"./slsp-multivolume-request/slsp-multivolume-request.module":59}],58:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.previousUnavailableResource=null}(r.slspMultivolumeRequestController=(n(i,[{key:"$doCheck",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl;var e=this.parentCtrl.bestoffer.unavailableResource;e!==this.previousUnavailableResource&&(!1!==e?this.disableRequestButton():this.enableRequestButton(),this.previousUnavailableResource=e)}catch(e){console.error("***SLSP*** an error occurred: Multivolume Request\n\n"),console.error(e.message)}}},{key:"disableRequestButton",value:function(){var e=document.querySelector("button.button-with-icon.button-confirm.md-button.md-primoExplore-theme.md-ink-ripple");e&&(e.disabled=!0)}},{key:"enableRequestButton",value:function(){var e=document.querySelector("button.button-with-icon.button-confirm.md-button.md-primoExplore-theme.md-ink-ripple");e&&(e.disabled=!1)}}]),i)).$inject=["$scope"]},{}],59:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspMultivolumeRequestModule=void 0;e=e("./slsp-multivolume-request.controller");r.slspMultivolumeRequestModule=angular.module("slspMultivolumeRequestModule",[]).controller("slspMultivolumeRequestController",e.slspMultivolumeRequestController).component("slspMultivolumeRequestComponent",{bindings:{afterCtrl:"<"},controller:"slspMultivolumeRequestController"})},{"./slsp-multivolume-request.controller":58}],60:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$element=t}(r.slspEditPersonalDetailsController=(n(i,[{key:"$doCheck",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl;var e="en",t=this.$scope.$root.$$childHead.$ctrl.userSessionManagerService;t&&(e=t.getInterfaceLanguage()),this.detailsBaseEdu="https://eduid.ch/web/change-account-data/2/?lang="+e,this.detailsBaseReg="https://registration.slsp.ch/library-card/?lang="+e,this.exclude=["STAFF","11","12","13","14","15","16","17","18","91","92","99"],this.grpA=["11","91","92"],this.grpB=["12","13","14","15","16","17","18"],this.getPatronGrp=function(){var e;return void 0!==this.parentCtrl.personalInfoService.personalInfo&&(e=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode,!this.exclude.includes(e))},this.grpLabelA=function(){var e;return void 0!==this.parentCtrl.personalInfoService.personalInfo&&(e=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode,!!this.grpA.includes(e))},this.grpLabelB=function(){var e;return void 0!==this.parentCtrl.personalInfoService.personalInfo&&(e=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode,!!this.grpB.includes(e))},this.buttonMove=function(){var e=angular.element(document.querySelector("md-card > md-card-content > prm-personal-settings > prm-personal-settings-after")),t=angular.element(document.querySelector("#SLSPeditPersonalDetails"));e.append(t)}}catch(e){console.error("***SLSP*** an error occured: EditPersonalDetailsController\n\n"),console.error(e.message)}}}]),i)).$inject=["$scope"]},{}],61:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspEditPersonalDetailsModule=void 0;e=e("./slsp-edit-personal-details.controller");r.slspEditPersonalDetailsModule=angular.module("slspEditPersonalDetailsModule",[]).controller("slspEditPersonalDetailsController",e.slspEditPersonalDetailsController).component("slspEditPersonalDetailsComponent",{bindings:{afterCtrl:"<"},controller:"slspEditPersonalDetailsController",template:'<span>{{ $ctrl.buttonMove() }}</span>\n<md-card ng-if="$ctrl.grpLabelA()" translate="customized.libraries.details" flex="100" class="bar alert-bar courier-info">\n</md-card>\n\n<md-card ng-if="$ctrl.grpLabelB()" translate="customized.slsp.details" flex="100" class="bar alert-bar courier-info">\n</md-card>\n\n<div ng-if="$ctrl.getPatronGrp()" layout="column">\n    <div layout="column">\n        <div translate="customized.personal.details"></div>\n        <md-button href="{{ $ctrl.detailsBaseEdu }}" target="_blank" layout="row" class="courier-info bar alert-bar" layout-align="center center">\n            <prm-icon class="rotate-20 margin-right-small" icon-type="svg" svg-icon-set="primo-ui" icon-definition="pencil">\n            </prm-icon>\n        </md-button>\n    </div>\n</div>\n\n<br />\n<div ng-if="$ctrl.getPatronGrp()" layout="column">\n    <div translate="customized.libcard.number"></div>\n    <md-button href="{{ $ctrl.detailsBaseReg }}" target="_blank" layout="row" class="courier-info bar alert-bar" layout-align="center center">\n        <prm-icon class="rotate-20 margin-right-small" icon-type="svg" svg-icon-set="primo-ui" icon-definition="account-card-details">\n        </prm-icon>\n    </md-button>\n</div>\n</div>\n</div>'})},{"./slsp-edit-personal-details.controller":60}],62:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspPersonalInfoAfterModule=void 0;e=e("./slsp-edit-personal-details/slsp-edit-personal-details.module");(r.slspPersonalInfoAfterModule=angular.module("slspPersonalInfoAfterModule",[]).component("prmPersonalInfoAfter",{bindings:{parentCtrl:"<"},template:'<slsp-edit-personal-details-component after-ctrl="$ctrl" id="SLSPeditPersonalDetails"></slsp-edit-personal-details-component><slsp-personal-info-after parent-ctrl="$parent.$ctrl"></slsp-personal-info-after>'})).requires.push(e.slspEditPersonalDetailsModule.name)},{"./slsp-edit-personal-details/slsp-edit-personal-details.module":61}],63:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$element=e[0],this.form=this.$element.parentElement.parentElement,this.display=!1}(r.bcuFeesLinkController=(n(i,[{key:"$doCheck",value:function(){var e,t=!1;void 0!==this.form.children[0].children[1]&&void 0!==this.form.children[0].children[1].children[0]?t=this.form.children[0].children[1].children[0]:void 0!==this.form.children[0].children[0]&&void 0!==this.form.children[0].children[0].children[0]&&(t=this.form.children[0].children[0].children[0]),t&&2<=t.children.length&&!1===this.display&&(this.display=!0,(e=document.createElement("DIV")).className="courier-info bar alert-bar",e.innerHTML="<h4>"+this.afterCtrl.parentCtrl.$translate.instant("customize.fullview.feesTitle")+"</h4>\n\t\t<p>"+this.afterCtrl.parentCtrl.$translate.instant("customize.fullview.feesInfo")+'</p>\n\t\t<p><a href="'+this.afterCtrl.parentCtrl.$translate.instant("customize.fullview.feesUrl")+'"\n\t\ttarget="_blank">'+this.afterCtrl.parentCtrl.$translate.instant("customize.fullview.feesLinkText")+"</a></p>",t.insertBefore(e,t.children[t.children.length-1]))}}]),i)).$inject=["$element"]},{}],64:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bcuFeesLinkModule=void 0;e=e("./bcu-fees-link.controller");r.bcuFeesLinkModule=angular.module("bcuFeesLinkModule",[]).controller("bcuFeesLinkController",e.bcuFeesLinkController).component("bcuFeesLinkComponent",{bindings:{afterCtrl:"<"},controller:"bcuFeesLinkController"})},{"./bcu-fees-link.controller":63}],65:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$compile=t,this.$timeout=r}(r.slspAlmaRequestController=(n(i,[{key:"$doCheck",value:function(){try{var e,t;this.parentCtrl=this.afterCtrl.parentCtrl,"AlmaRequest"==this.parentCtrl.serviceType||"AlmaItemRequest"==this.parentCtrl.serviceType||"AlmaRequestAnyItem"==this.parentCtrl.serviceType||"AlmaRequestOther"==this.parentCtrl.serviceType?(this.requestLoan=e,e=document.querySelectorAll('prm-opac form[name="requestForm"]'),angular.element(e).addClass("almaRequestLoan")):"AlmaDigitization"!=this.parentCtrl.serviceType&&"AlmaDigitizationOther"!=this.parentCtrl.serviceType&&"AlmaGeneralDigitization"!=this.parentCtrl.serviceType&&"AlmaItemDigitization"!=this.parentCtrl.serviceType&&"AlmaResourceSharing"!=this.parentCtrl.serviceType||(this.requestDigi=t,t=document.querySelectorAll('prm-opac form[name="requestForm"]'),angular.element(t).removeClass("almaRequestLoan"))}catch(e){console.error("***SLSP*** an error occured: slspAlmaRequestController \n\n"),console.error(e.message)}}}]),i)).$inject=["$scope","$compile","$timeout"]},{}],66:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspAlmaRequestModule=void 0;e=e("./slsp-alma-request.controller");r.slspAlmaRequestModule=angular.module("slspAlmaRequestModule",[]).controller("slspAlmaRequestController",e.slspAlmaRequestController).component("slspAlmaRequestComponent",{bindings:{afterCtrl:"<"},controller:"slspAlmaRequestController"})},{"./slsp-alma-request.controller":65}],67:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspRequestAfterModule=void 0;var n=e("./bcu-fees-link/bcu-fees-link.module"),e=e("./slsp-alma-request/slsp-alma-request.module"),r=r.slspRequestAfterModule=angular.module("slspRequestAfterModule",[]).component("prmRequestAfter",{bindings:{parentCtrl:"<"},template:'<bcu-fees-link-component after-ctrl="$ctrl"></bcu-fees-link-component>\n            <slsp-alma-request-component after-ctrl="$ctrl"></slsp-alma-request-component>\n            <slsp-request-after parent-ctrl="$parent.$ctrl"></slsp-request-after>'});r.requires.push(n.bcuFeesLinkModule.name),r.requires.push(e.slspAlmaRequestModule.name)},{"./bcu-fees-link/bcu-fees-link.module":64,"./slsp-alma-request/slsp-alma-request.module":66}],68:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e}(r.slspRequestCancelButtonController=(n(i,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.$scope.$watch("this.$ctrl.parentCtrl.requestsDisplay",function(e){angular.isArray(e)&&0<e.length&&angular.forEach(e,function(e){"ill"===e.requestType&&("DELIVERED"===e.statusCode||"LOST_COMMUNICATED"===e.statusCode||"RECALLED_BOR"===e.statusCode||"RECEIVED_DIGITALLY"===e.statusCode||"RECEIVED_NOT_FOR_LOAN"===e.statusCode||"RECEIVED_PHYSICALLY"===e.statusCode||"RENEWED"===e.statusCode||"RENEW_NOT_ACCEPTED"===e.statusCode||"RENEW_REQUESTED"===e.statusCode||"REQUEST_COMPLETED"===e.statusCode||"SHIPPED_DIGITALLY"===e.statusCode||"SHIPPED_PHYSICALLY"===e.statusCode?e.isCancelable=!1:e.isCancelable=!0)})})}catch(e){console.error("***SLSP*** an error occured: RequestCancelButton \n\n"),console.error(e.message)}}}]),i)).$inject=["$scope"]},{}],69:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspRequestCancelButtonModule=void 0;e=e("./slsp-request-cancel-button.controller");r.slspRequestCancelButtonModule=angular.module("slspRequestCancelButtonModule",[]).controller("slspRequestCancelButtonController",e.slspRequestCancelButtonController).component("slspRequestCancelButtonComponent",{bindings:{afterCtrl:"<"},controller:"slspRequestCancelButtonController"})},{"./slsp-request-cancel-button.controller":68}],70:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspRequestsAfterModule=void 0;e=e("./slsp-request-cancel-button/slsp-request-cancel-button.module");(r.slspRequestsAfterModule=angular.module("slspRequestsAfterModule",[]).component("prmRequestsAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-request-cancel-button-component after-ctrl="$ctrl"></slsp-request-cancel-button-component>\n            <slsp-requests-after parent-ctrl="$parent.$ctrl"></slsp-requests-after>\n            '})).requires.push(e.slspRequestCancelButtonModule.name)},{"./slsp-request-cancel-button/slsp-request-cancel-button.module":69}],71:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bcuSearchBarAfterModule=void 0;e=e("./bcu-search-slots/bcu-search-slots.module");(r.bcuSearchBarAfterModule=angular.module("bcuSearchBarAfterModule",[]).component("prmSearchBarAfter",{bindings:{parentCtrl:"<"},template:'<bcu-search-slots-component after-ctrl="$ctrl"></bcu-search-slots-component><slsp-search-bar-after parent-ctrl="$parent.$ctrl"></slsp-search-bar-after>'})).requires.push(e.bcuSearchSlotsModule.name)},{"./bcu-search-slots/bcu-search-slots.module":73}],72:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.bcuSearchSlotsController=(n(i,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl.parentCtrl,this.parentCtrl.showTabsAndScopes=!0}}]),i);function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function")}},{}],73:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bcuSearchSlotsModule=void 0;e=e("./bcu-search-slots.controller");r.bcuSearchSlotsModule=angular.module("bcuSearchSlotsModule",[]).controller("bcuSearchSlotsController",e.bcuSearchSlotsController).component("bcuSearchSlotsComponent",{bindings:{afterCtrl:"<"},controller:"bcuSearchSlotsController"})},{"./bcu-search-slots.controller":72}],74:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmServiceButtonAfterModule=void 0;e=e("./slsp-digitization-button-label/slsp-digitization-button-label.module");(r.prmServiceButtonAfterModule=angular.module("prmServiceButtonAfterModule",[]).component("prmServiceButtonAfter",{bindings:{parentCtrl:"<"},template:'<slsp-digitization-button-label-component after-ctrl="$ctrl"></slsp-digitization-button-label-component><slsp-service-button-after parent-ctrl="$parent.$ctrl"></slsp-service-button-after>'})).requires.push(e.slspDigitizationButtonLabelModule.name)},{"./slsp-digitization-button-label/slsp-digitization-button-label.module":76}],75:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$compile=t,this.$timeout=r}(r.slspDigitizationButtonLabelController=(n(i,[{key:"$onInit",value:function(){var n=this;try{this.$timeout(function(){var e,t,r;n.parentCtrl=n.afterCtrl.parentCtrl,void 0!==n.parentCtrl.service.type&&"AlmaDigitization"===n.parentCtrl.service.type&&(n.digiButtonLabel=e,e=document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate="AlmaDigitization"]'),angular.element(e).after('<div class="DigiButtonLabel1">CHF</div>').addClass("digiButton")),void 0!==n.parentCtrl.service.type&&"AlmaGeneralDigitization"===n.parentCtrl.service.type&&(n.digiButtonLabel=t,t=document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate="AlmaGeneralDigitization"]'),angular.element(t).after('<div class="DigiButtonLabel1">CHF</div>').addClass("digiButton")),void 0!==n.parentCtrl.service.type&&"AlmaItemDigitization"===n.parentCtrl.service.type&&(n.digiItemButtonLabel=r,r=document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate="AlmaItemDigitization"]'),angular.element(r).append('<div class="DigiButtonLabel">CHF</div>').addClass("digiButton"))},20)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),i)).$inject=["$scope","$compile","$timeout"]},{}],76:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspDigitizationButtonLabelModule=void 0;e=e("./slsp-digitization-button-label.controller");r.slspDigitizationButtonLabelModule=angular.module("slspDigitizationButtonLabelModule",[]).controller("slspDigitizationButtonLabelController",e.slspDigitizationButtonLabelController).component("slspDigitizationButtonLabelComponent",{bindings:{afterCtrl:"<"},controller:"slspDigitizationButtonLabelController",template:"\n"})},{"./slsp-digitization-button-label.controller":75}],77:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ethMetagridConfig=function(){return{blacklist:["viaf","sudoc","gnd","histhub","loc"],label:{hallernet:{de:"Editions- und Forschungsplattform hallerNet",en:"Editions- und Forschungsplattform hallerNet",fr:"Editions- und Forschungsplattform hallerNet",it:"Editions- und Forschungsplattform hallerNet"},fotostiftung:{de:"Fotostiftung Schweiz",en:"Fotostiftung Schweiz",fr:"Fotostiftung Schweiz",it:"Fotostiftung Schweiz"},sikart:{de:"SIKART",en:"SIKART",fr:"SIKART",it:"SIKART"},"elites-suisses-au-xxe-siecle":{de:"Schweizerische Eliten im 20. Jahrhundert",en:"Swiss elites database",fr:"Elites suisses au XXe siÃ¨cle",it:"Elites suisses au XXe siÃ¨cle"},bsg:{de:"Bibliographie der Schweizergeschichte",en:"Bibliography on Swiss History",fr:"Bibliographie de l'histoire suisse",it:"Bibliografia della storia svizzera"},dodis:{de:"Diplomatische Dokumente der Schweiz",en:"Diplomatic Documents of Switzerland",fr:"Documents diplomatiques suisses",it:"Documenti diplomatici svizzeri"},helveticat:{de:"Helveticat",en:"Helveticat",fr:"Helveticat",it:"Helveticat"},"hls-dhs-dss":{de:"Historisches Lexikon der Schweiz",en:"Historical Dictionary of Switzerland",fr:"Dictionnaire historique de la Suisse",it:"Dizionario storico della Svizzera"},histoirerurale:{de:"Archiv fÃ¼r Agrargeschichte",en:"Archives of rural history",fr:"Archives de l'histoire rurale",it:"Archivio della storia rurale"},lonsea:{de:"Lonsea",en:"Lonsea",fr:"Lonsea",it:"Lonsea"},ssrq:{de:"Sammlung Schweizerischer Rechtsquellen",en:"Collection of Swiss Law Sources",fr:"Collection des sources du droit suisse",it:"Collana Fonti del diritto svizzero"},"alfred-escher":{de:"Alfred Escher-Briefedition",en:"Alfred Escher letters edition",fr:"Edition des lettres Alfred Escher",it:"Edizione lettere Alfred Escher"},geschichtedersozialensicherheit:{de:"Geschichte der sozialen Sicherheit",en:"Geschichte der sozialen Sicherheit",fr:"Histoire de la sÃ©curitÃ© sociale",it:"Storia della sicurezza sociale"}}}}},{}],78:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.ethConfigService=e,this.config=t,this.ethMetagridService=r}(r.ethMetagridController=(n(i,[{key:"buildMetalinkLinks",value:function(e,t){var h=this;this.ethMetagridService.getConcordances(e,t).then(function(e){try{if(e&&(e.concordances&&0!==e.concordances.length&&e.concordances[0].resources&&0!==e.concordances[0].resources.length)){var t=e.concordances[0].id;if(!h.persons.find(function(e){return e.id==t})){var r={},n=(r.id=t,e.concordances[0].resources),o=[],i=[];r.name=n[0].metadata.last_name,n[0].metadata.first_name&&(r.name+=", "+n[0].metadata.first_name);for(var l=0;l<n.length;l++){var s=n[l],a=s.provider.slug,c=s.link.uri;if(angular.isDefined(h.config.whitelist)){if(-1===h.config.whitelist.indexOf(a))continue}else if(angular.isDefined(h.config.blacklist)&&-1<h.config.blacklist.indexOf(a))continue;var u=h.ethConfigService.getLabel(h.config,a);o.push({slug:a,url:c,label:u})}var d=o.filter(function(e){return"dodis"===e.slug}),i=i.concat(d),p=o.filter(function(e){return"hls-dhs-dss"===e.slug}),f=(i=i.concat(p),o.filter(function(e){return"hls-dhs-dss"!==e.slug&&"dodis"!==e.slug}));i=i.concat(f),r.metagridLinks=i,h.persons.push(r)}}}catch(e){console.error("an error occured: ethMetagridController: ethMetagridService.getConcordances callback:\n\n"),console.error(e.message)}})}},{key:"$onInit",value:function(){try{if(this.parentCtrl=this.afterCtrl.parentCtrl,this.persons=[],this.parentCtrl.item.pnx.display.lds03||this.parentCtrl.item.pnx.display.lds90){var e=[],t=[];if(angular.isDefined(this.parentCtrl.item.pnx.display.lds03))for(var r,n,o=this.parentCtrl.item.pnx.display.lds03,i=0;i<o.length;i++)-1<o[i].indexOf("/gnd/")?(-1<(r=(r=o[i].substring(o[i].indexOf("/gnd/")+5)).substring(0,r.indexOf('">'))).indexOf("(DE-588)")&&(r=r.replace("(DE-588)","")),-1===e.indexOf(r)&&e.push(r)):-1<o[i].indexOf(": ")&&(-1<(n=o[i].substring(o[i].indexOf(": ")+2)).indexOf("(DE-588)")&&(n=n.replace("(DE-588)","")),-1===e.indexOf(n))&&e.push(n);if(this.parentCtrl.item.pnx.display.lds90)for(var l,s,a=this.parentCtrl.item.pnx.display.lds90,c=0;c<a.length;c++)-1<a[c].indexOf("idref.fr/")?(-1<(l=(l=a[c].substring(a[c].indexOf("idref.fr/")+9)).substring(0,l.indexOf('">'))).indexOf("(IdRef)")&&(l=l.replace("(IdRef)","")),-1===t.indexOf(l)&&t.push(l)):-1<a[c].indexOf(": ")&&(-1<(s=a[c].substring(a[c].indexOf(": ")+2)).indexOf("(IdRef)")&&(s=s.replace("(IdRef)","")),-1===t.indexOf(s))&&t.push(s);for(var u=0;u<e.length;u++){var d=e[u];""!==d&&(-1<d.indexOf(")")&&(d=d.substring(d.lastIndexOf(")")+1)),this.buildMetalinkLinks("gnd",d))}for(u=0;u<t.length;u++){var p=t[u];""!==p&&(-1<p.indexOf(")")&&(p=p.substring(p.lastIndexOf(")")+1)),this.buildMetalinkLinks("sudoc",p))}}}catch(e){throw console.error("***ETH*** an error occured: ethMetagridController.onInit()\n\n"),console.error(e.message),e}}}]),i)).$inject=["ethConfigService","ethMetagridConfig","ethMetagridService"]},{}],79:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethMetagridModule=void 0;var n=e("../../services/eth-config.service"),o=e("./eth-metagrid.config"),i=e("./eth-metagrid.service"),e=e("./eth-metagrid.controller");r.ethMetagridModule=angular.module("ethMetagridModule",[]).factory("ethConfigService",n.ethConfigService).factory("ethMetagridConfig",o.ethMetagridConfig).factory("ethMetagridService",i.ethMetagridService).controller("ethMetagridController",e.ethMetagridController).component("ethMetagridComponent",{bindings:{afterCtrl:"<"},controller:"ethMetagridController",template:'<div class="eth-metagrid-links" ng-repeat="(id, item) in $ctrl.persons">\n    <div ng-if="(item.metagridLinks && item.metagridLinks.length > 0)">\n        <div class="section-head">\n            <div layout="row" layout-align="center center" class="layout-align-center-center layout-row">\n                <h4 class="section-title md-title light-text">\n                    {{item.name}}\n                    <span class="eth-metagrid-poweredby">\n                        (<a target="_blank" href="https://www.metagrid.ch/">\n                            <span flex translate=\'unige.metagrid.by\'>Powered by Metagrid</span>\n                            <prm-icon external-link="" icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon>                            \n                        </a>)\n                    </span>\n                </h4>\n                <md-divider flex></md-divider>\n           </div>\n        </div>\n        <div class="section-body">\n            <div  class="spaced-rows">\n                <div ng-repeat="link in item.metagridLinks">\n                    <div>\n                       <a target="_blank" class="arrow-link" href="{{link.url}}">\n                            {{link.label}}\n                            <prm-icon external-link="" icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon>\n                            <prm-icon link-arrow external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon>\n                       </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'})},{"../../services/eth-config.service":110,"./eth-metagrid.config":77,"./eth-metagrid.controller":78,"./eth-metagrid.service":80}],80:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ethMetagridService=["$http","$sce",function(r,n){return{getConcordances:function(e,t){return e="https://api.metagrid.ch/search?group=1&skip=0&take=50&provider="+e+"&query="+t,n.trustAsResourceUrl(e),r.get(e).then(function(e){return e.data},function(e){var t;return 404!==e.status&&(t="an error occured: ethMetagridService callback: "+e.status,e.data&&e.data.errorMessage&&(t+=" - "+e.data.errorMessage),console.error(t)),null})}}}]},{}],81:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmServiceDetailsAfterModule=void 0;var n=e("./slsp-collapse-details/slsp-collapse-details.module"),e=e("./eth-metagrid/eth-metagrid.module"),r=r.prmServiceDetailsAfterModule=angular.module("prmServiceDetailsAfterModule",[]).component("prmServiceDetailsAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-collapse-details-component after-ctrl="$ctrl"></slsp-collapse-details-component>\n            <slsp-service-details-after parent-ctrl="$parent.$ctrl"></<slsp-service-details-after>\n            <eth-metagrid-component after-ctrl="$ctrl"></eth-metagrid-component>'});r.requires.push(n.slspCollapseDetailsModule.name),r.requires.push(e.ethMetagridModule.name)},{"./eth-metagrid/eth-metagrid.module":79,"./slsp-collapse-details/slsp-collapse-details.module":85}],82:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.hsgTranslatorService=["$rootScope","$log",function(t,o){return this.defaultLang="de",this.getLang=function(){var e=t.$$childHead.$ctrl.userSessionManagerService;return e?e.getUserLanguage()||$window.appConfig["primo-view"]["attributes-map"].interfaceLanguage:(o.error("UserSessionManagerService not available"),this.defaultLang)},this.getLabel=function(e,t){if(!t)return o.error("no config object present",e),e;var r,n,t=t.labels;if(t)return(t=t[e])?((n=t[r=this.getLang()])||(o.error("no translation for label",e,r),n=t[this.defaultLang]),n||(o.error("no translation for label",e,this.defaultLang),e)):(o.error("label not found: ",e),e);throw new Error("Config contains no labels")},{getLang:this.getLang,getLabel:this.getLabel}}]},{}],83:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.slspCollapseDetailsConfig={ignore:["lds03"],charCount:400,itemCount:5,icons:{expand:'<md-icon md-svg-icon="hardware:ic_keyboard_arrow_down_24px" class="md-primoExplore-theme"><svg width="100%" height="100%" viewBox="0 0 24 24" id="ic_keyboard_arrow_down_24px_cache154" y="264" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"></path></svg></md-icon>',collapse:'<md-icon class="hsg-fold-icon-collapse" md-svg-icon="hardware:ic_keyboard_arrow_down_24px" class="md-primoExplore-theme"><svg width="100%" height="100%" viewBox="0 0 24 24" id="ic_keyboard_arrow_down_24px_cache154" y="264" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"></path></svg></md-icon>'}}},{}],84:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r,n,o,i){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$element=t,this.$sce=r,this.$compile=n,this.config=o,this.translator=i,this.waiting=!0,this.iconExpand=this.config.icons.expand,this.iconCollapse=this.config.icons.collapse,this.labels={expandButtonLabel:'<span translate="fulldisplay.details.showAll"> </span>',collapseButtonLabel:'<span translate="fulldisplay.details.showLess"></span>'}}(r.slspCollapseDetailsController=(n(l,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl.parentCtrl,this.parentCtrl.NUMBER_OF_DETAILS_TO_SHOW=1e3,this.rootEl=this.$element.parent().parent().query("div").children();var r=this,n=this.$scope.$watch(function(){return r.rootEl.query("div")},function(e,t){r.waiting&&e!==t&&(r.waiting=!1,r.makeFoldable(),n())})}},{key:"makeFoldable",value:function(){var e,t=this.parentCtrl._details;for(e in t){var r,n,o,i=t[e];"object"!=(void 0===i?"undefined":u(i))||this.config.ignore.includes(i.label)||(r=(i=i.values[0].values)[0].length,o=(n=this.config.itemCount)+3,r>this.config.charCount?this.addMarkup(this.getItemContainer(e),1,!0):i.length>n&&i.length>=o&&this.addMarkup(this.getItemContainer(e),this.config.itemCount,!1))}}},{key:"getItemContainer",value:function(e){return this.rootEl.children()[e].querySelector(".item-details-element-container")}},{key:"addMarkup",value:function(e,t,r){var n,o=this,i=(e.classList.add("hsg-collapsed"),e.querySelector(".item-details-element")),l=i.querySelectorAll("[role=listitem]");for(n in l){var s=l[n];"object"==(void 0===s?"undefined":u(s))&&(r&&n<t&&s.classList.add("hsg-foldable-item-longtext"),t<=n)&&s.classList.add("hsg-foldable-item")}var a=document.createElement("div"),c=(a.classList.add("hsg-expand-button"),a.innerHTML=this.iconExpand+this.labels.expandButtonLabel,this.$compile(a)(this.$scope),i.insertBefore(a,i.children[t]),document.createElement("div"));c.classList.add("hsg-collapse-button"),c.style.display="none",i.appendChild(c),a.addEventListener("click",function(){a.style.display="none",c.style.display="inline-block",e.classList.remove("hsg-collapsed"),e.classList.add("hsg-expanded"),c.innerHTML=o.iconCollapse+o.labels.collapseButtonLabel,o.$compile(c)(o.$scope)}),c.addEventListener("click",function(){e.classList.add("hsg-collapsed"),e.classList.remove("hsg-expanded"),a.style.display="inline-block",c.style.display="none"})}},{key:"translate",value:function(e){var t;return this.config?(t=this.translator.getLabel(e,this.config),this.$sce.trustAsHtml(t)):(console.log("config missing"),e)}}]),l)).$inject=["$scope","$element","$sce","$compile","slspCollapseDetailsConfig","hsgTranslatorService"]},{}],85:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspCollapseDetailsModule=void 0;var n=e("./hsg-translator.service"),o=e("./slsp-collapse-details.controller"),e=e("./slsp-collapse-details.config");r.slspCollapseDetailsModule=angular.module("slspCollapseDetailsModule",[]).constant("slspCollapseDetailsConfig",e.slspCollapseDetailsConfig).factory("hsgTranslatorService",n.hsgTranslatorService).controller("slspCollapseDetailsController",o.slspCollapseDetailsController).component("slspCollapseDetailsComponent",{bindings:{afterCtrl:"<"},controller:"slspCollapseDetailsController"})},{"./hsg-translator.service":82,"./slsp-collapse-details.config":83,"./slsp-collapse-details.controller":84}],86:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e}(r.bcuRapidoNoFurtherOptionsController=(n(i,[{key:"$doCheck",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl;var e=this.parentCtrl.almaRSServiceAvailable,t=this.parentCtrl.isSignedIn(),r=document.getElementById("rapidoOffer"),n=document.querySelector('button span[translate="brief.results.tabs.Get_it_from_other_locations"]');"false"==e&&"true"==t?(angular.element(r).addClass("slsp-hide-rapido"),angular.element(n.parentElement).addClass("slsp-hide-rapido")):(angular.element(r).hasClass("slsp-hide-rapido")&&angular.element(r).removeClass("slsp-hide-rapido"),angular.element(n.parentElement).hasClass("slsp-hide-rapido")&&angular.element(n.parentElement).removeClass("slsp-hide-rapido"))}catch(e){console.error("***SLSP*** an error occured: Rapido no Further Options\n\n"),console.error(e.message)}}}]),i)).$inject=["$scope"]},{}],87:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bcuRapidoNoFurtherOptionsModule=void 0;e=e("./bcu-rapido-no-further-options.controller");r.bcuRapidoNoFurtherOptionsModule=angular.module("bcuRapidoNoFurtherOptionsModule",[]).controller("bcuRapidoNoFurtherOptionsController",e.bcuRapidoNoFurtherOptionsController).component("bcuRapidoNoFurtherOptions",{bindings:{afterCtrl:"<"},controller:"bcuRapidoNoFurtherOptionsController"})},{"./bcu-rapido-no-further-options.controller":86}],88:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmServiceNgrsAfterModule=void 0;var n=e("./slsp-rapido-fees-link/slsp-rapido-fees-link.module"),e=e("./bcu-rapido-no-further-options/bcu-rapido-no-further-options.module"),r=r.prmServiceNgrsAfterModule=angular.module("prmServiceNgrsAfterModule",[]).component("prmServiceNgrsAfter",{bindings:{parentCtrl:"<"},template:'<slsp-rapido-fees-link-component after-ctrl="$ctrl"></slsp-rapido-fees-link-component>\n            <bcu-rapido-no-further-options after-ctrl="$ctrl"></bcu-rapido-no-further-options>\n            <slsp-service-ngrs-after parent-ctrl="$parent.$ctrl"></<slsp-service-ngrs-after>'});r.requires.push(n.slspRapidoFeesLinkModule.name),r.requires.push(e.bcuRapidoNoFurtherOptionsModule.name)},{"./bcu-rapido-no-further-options/bcu-rapido-no-further-options.module":87,"./slsp-rapido-fees-link/slsp-rapido-fees-link.module":90}],89:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$compile=t}(r.slspRapidoFeesLinkController=(n(i,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.rapidoFeesLink=e;var e=document.querySelector("#rapidoOffer div.full-view-section-content prm-full-view-service-container div.section-head h4"),t='<div class="rapidoFeesLink neutralized-button arrow-link-button md-button md-primoExplore-theme md-ink-ripple"><a href="'+this.afterCtrl.parentCtrl.$translate.instant("customize.fullview.feesUrl")+'" target="_blank"><span translate="customized.rapido.fees">see fees details via link</span><prm-icon link-arrow="" icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right" [display-mode]="::$ctrl.displayMode">\x3c!----\x3e<md-icon ng-if="::($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())" md-svg-icon="primo-ui:chevron-right" role="presentation" class="md-primoExplore-theme"><svg id="chevron-right_cache76" width="100%" height="100%" viewBox="0 0 24 24" y="384" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false">\n                <path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"></path>\n            </svg></md-icon>\x3c!----\x3e\x3c!----\x3e<prm-icon-after parent-ctrl="$ctrl"></prm-icon-after></prm-icon></a></div>';angular.element(e).after(this.$compile(t)(this.$scope))}catch(e){console.error("***SLSP*** an error occured: Rapido Fees Link\n\n"),console.error(e.message)}}}]),i)).$inject=["$scope","$compile"]},{}],90:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspRapidoFeesLinkModule=void 0;e=e("./slsp-rapido-fees-link.controller");r.slspRapidoFeesLinkModule=angular.module("slspRapidoFeesLinkModule",[]).controller("slspRapidoFeesLinkController",e.slspRapidoFeesLinkController).component("slspRapidoFeesLinkComponent",{bindings:{afterCtrl:"<"},controller:"slspRapidoFeesLinkController",template:""})},{"./slsp-rapido-fees-link.controller":89}],91:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.ethDisableRequestButtonController=(n(i,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.processDoCheck=!0}catch(e){console.error("***ETH*** an error occured: ethDisableRequestButtonController \n\n"),console.error(e.message)}}},{key:"$doCheck",value:function(){try{var e;this.processDoCheck&&document.querySelector("prm-service-physical-best-offer .offer_details .rota_line > div > span")&&(document.querySelector('[translate="rapido.tiles.physical.no_best_offer.line_2"]')&&(e=document.querySelector("#get_it_btn_physical"),angular.element(e).attr("disabled","disabled")),this.processDoCheck=!1)}catch(e){console.error("***ETH*** an error occured: ethDisableRequestButtonController $doCheck\n\n"),console.error(e.message)}}}]),i);function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function")}},{}],92:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethDisableRequestButtonModule=void 0;e=e("./eth-disable-request-button.controller");r.ethDisableRequestButtonModule=angular.module("ethDisableRequestButtonModule",[]).controller("ethDisableRequestButtonController",e.ethDisableRequestButtonController).component("ethDisableRequestButtonComponent",{bindings:{afterCtrl:"<"},controller:"ethDisableRequestButtonController"})},{"./eth-disable-request-button.controller":91}],93:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmServicePhysicalBestOfferAfterModule=void 0;var n=e("./slsp-rapido-digital-offer/slsp-rapido-digital-offer.module"),o=e("./slsp-icon-label-rapido/slsp-icon-label-rapido.module"),i=e("./eth-disable-request-button/eth-disable-request-button.module"),e=e("./unige-local-pod-disable/unige-local-pod-disable.module"),r=r.prmServicePhysicalBestOfferAfterModule=angular.module("prmServicePhysicalBestOfferAfterModule",[]).component("prmServicePhysicalBestOfferAfter",{bindings:{parentCtrl:"<"},template:'<slsp-rapido-digital-offer-component after-ctrl="$ctrl"></slsp-rapido-digital-offer-component>\n            <slsp-icon-label-rapido-component after-ctrl="$ctrl"></slsp-icon-label-rapido-component>\n            <eth-disable-request-button-component after-ctrl="$ctrl"></eth-disable-request-button-component>\n            <slsp-service-physical-best-offer-after parent-ctrl="$parent.$ctrl"></slsp-service-physical-best-offer-after>\n            <unige-local-pod-disable-component after-ctrl="$ctrl"></unige-local-pod-disable-component>'});r.requires.push(n.slspRapidoDigitalOfferModule.name),r.requires.push(o.slspIconLabelRapidoModule.name),r.requires.push(i.ethDisableRequestButtonModule.name),r.requires.push(e.unigeLocalPodDisableModule.name)},{"./eth-disable-request-button/eth-disable-request-button.module":92,"./slsp-icon-label-rapido/slsp-icon-label-rapido.module":95,"./slsp-rapido-digital-offer/slsp-rapido-digital-offer.module":97,"./unige-local-pod-disable/unige-local-pod-disable.module":98}],94:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$compile=t,this.$timeout=r}(r.slspIconLabelRapidoController=(n(i,[{key:"$onInit",value:function(){var r=this;try{this.$timeout(function(){var e,t;r.parentCtrl=r.afterCtrl.parentCtrl,!0===r.parentCtrl.isdigitaloffer&&(r.iconLabel=e,e=document.querySelectorAll('#item-ngrs > div > div > div[ng-if="$ctrl.digitalTileVisible"] > prm-service-physical-best-offer > div > div.icon-wrapper'),angular.element(e).after(r.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><g><circle cx="130" cy="130" r="10.57" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><path d="M145.26,152.31c-4.34,2.98-9.6,4.69-15.26,4.69-14.91,0-27-12.09-27-27s12.09-27,27-27,27,12.09,27,27v2.35c0,4.54-3.68,8.21-8.21,8.21s-8.22-3.68-8.22-8.21v-2.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g><g><path d="M88.91,130H37c-4.97,0-9-4.03-9-9V55c0-4.96,4.03-9,9-9h108c4.97,0,9,4.04,9,9v42.32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polyline points="151 49 91 97 31 49" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.digi"></div></div>')(r.$scope)).addClass("icnLbl")),!0!==r.parentCtrl.isdigitaloffer&&(r.iconLabel2=t,t=document.querySelectorAll('#item-ngrs > div > div > div[ng-if="$ctrl.physicalTileVisible"] > prm-service-physical-best-offer > div > div.icon-wrapper'),angular.element(t).after(r.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><line x1="6.16" y1="82.58" x2="29.16" y2="82.62" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="17.66" y1="97.91" x2="29.16" y2="97.95" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="25.33" y1="113.24" x2="29.16" y2="113.28" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><g><circle cx="151.84" cy="125.5" r="12" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><circle cx="67.84" cy="125.5" r="12" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polyline points="163.84 125.5 178.84 125.5 178.84 98.5 160.47 65.84 124.84 65.84 124.84 47.5 40.84 47.5 40.84 125.5 55.84 125.5" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="139.84" y1="125.5" x2="79.84" y2="125.5" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="124.84" y1="53.5" x2="124.84" y2="125.5" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="178.84" y1="98.5" x2="124.84" y2="98.5" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.courier">Courier</div><div class="courierInfo" translate="customized.fee.localcourier">blabla bla Blaabl bla</div></div>')(r.$scope)).addClass("icnLbl2"))},0)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),i)).$inject=["$scope","$compile","$timeout"]},{}],95:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspIconLabelRapidoModule=void 0;e=e("./slsp-icon-label-rapido.controller");r.slspIconLabelRapidoModule=angular.module("slspIconLabelRapidoModule",[]).controller("slspIconLabelRapidoController",e.slspIconLabelRapidoController).component("slspIconLabelRapidoComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelRapidoController",template:"\n"})},{"./slsp-icon-label-rapido.controller":94}],96:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$scope=e,this.$compile=t,this.$timeout=r,this.loaderTemplate='<div class="slsp-rapido-loader"><prm-spinner class="inline-loader dark-on-light" layout="row" layout-align="start center"></prm-spinner></div>'}(r.slspRapidoDigitalOfferController=(n(i,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.isDone=!1}catch(e){console.error("***SLSP*** an error occured: Rapido onInit \n\n"),console.error(e.message)}}},{key:"$doCheck",value:function(){var t=this;try{var e=document.querySelectorAll('span[translate="rapido.tiles.placeholder.text"]');e&&Array.from(e).forEach(function(e){e.classList.contains("rapido-loading")||angular.element(e).after(t.$compile(t.loaderTemplate)(t.$scope)).addClass("rapido-loading")}),this.isDone||1!=this.parentCtrl.tilesplaceholderactive&&(!0===this.parentCtrl.isdigitaloffer&&this.$timeout(function(){var e=document.querySelectorAll('div[ng-if="$ctrl.digitalTileVisible"] .patron_cost.last_line');angular.element(e).after(t.$compile('<div class="rapidoCosts" translate="customized.rapido.digi"></div>')(t.$scope))},20),!0!==this.parentCtrl.isdigitaloffer&&void 0!==this.parentCtrl.bestoffer&&!0===this.parentCtrl.bestoffer.unavailableInAllMembersPod&&!0===this.parentCtrl.bestoffer.unavailableResource&&this.$timeout(function(){var e=document.querySelectorAll("prm-service-physical-best-offer .get_it_btn_physical > span");angular.element(e).after(t.$compile('<div class="reservationButton" translate="customized.rapido.reservation"></div>')(t.$scope)).addClass("noOffer")},20),(!0!==this.parentCtrl.isdigitaloffer&&void 0!==this.parentCtrl.bestoffer&&"452167832730000041"==this.parentCtrl.bestoffer.podId||!0!==this.parentCtrl.isdigitaloffer&&void 0!==this.parentCtrl.bestoffer&&"452167827350000041"==this.parentCtrl.bestoffer.podId||!0!==this.parentCtrl.isdigitaloffer&&void 0!==this.parentCtrl.bestoffer&&"452497325370000041"==this.parentCtrl.bestoffer.podId||!0!==this.parentCtrl.isdigitaloffer&&void 0!==this.parentCtrl.bestoffer&&"452497929300000041"==this.parentCtrl.bestoffer.podId||!0!==this.parentCtrl.isdigitaloffer&&void 0!==this.parentCtrl.bestoffer&&"452084165700000041"==this.parentCtrl.bestoffer.podId)&&this.$timeout(function(){var e=document.querySelectorAll('div[ng-if="$ctrl.physicalTileVisible"] prm-service-physical-best-offer .keep_for span');angular.element(e).after(t.$compile('<span class="reading-Room-Pod" translate="customized.rapido.readingroom"></span>')(t.$scope)).addClass("pod")},20),this.isDone=!0)}catch(e){console.error("***SLSP*** an error occured: Rapido doCheck \n\n"),console.error(e.message)}}}]),i)).$inject=["$scope","$compile","$timeout"]},{}],97:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspRapidoDigitalOfferModule=void 0;e=e("./slsp-rapido-digital-offer.controller");r.slspRapidoDigitalOfferModule=angular.module("slspRapidoDigitalOfferModule",[]).controller("slspRapidoDigitalOfferController",e.slspRapidoDigitalOfferController).component("slspRapidoDigitalOfferComponent",{bindings:{afterCtrl:"<"},controller:"slspRapidoDigitalOfferController"})},{"./slsp-rapido-digital-offer.controller":96}],98:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.unigeLocalPodDisableModule=angular.module("unigeLocalPodDisableModule",[]).controller("unigeLocalPodDisableController",["$scope","$translate",function(e,r){var n=this;this.$onInit=function(){var t;r("unige_rapido_pod").then(function(e){angular.isDefined(e)&&(t=e)}),e.$watch(function(){if(void 0!==document.querySelector("#get_it_btn_physical"))try{var e;angular.isDefined(n.afterCtrl.parentCtrl.bestoffer)&&angular.isDefined(n.afterCtrl.parentCtrl.bestoffer.supplyTime)&&1==n.afterCtrl.parentCtrl.bestoffer.supplyTime&&(e=document.querySelector("#get_it_btn_physical"),document.querySelector("#alertpodge")||void 0===e||null==e||(e.insertAdjacentHTML("beforebegin",t),angular.element(e).attr("disabled","disabled")))}catch(e){throw console.error("***UNIGE*** an error occured: unigeLocalPodDisableModule\n\n"),console.error(e.message),e}})}}]).component("unigeLocalPodDisableComponent",{bindings:{afterCtrl:"<"},controller:"unigeLocalPodDisableController",template:""})},{}],99:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.bcuScopesSelectorController=(o(l,[{key:"$onInit",value:function(){setTimeout(function(){var e,t=document.querySelectorAll('[id^="select_option_"]');for(e in t)"object"===n(t[e])&&null!==t[e]&&(t[e].onclick=function(){setTimeout(function(){document.getElementsByClassName("zero-margin button-confirm md-button md-primoExplore-theme")[0].click()},100)})},100)}}]),l);function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function")}},{}],100:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bcuScopesSelectorModule=void 0;e=e("./bcu-scopes-selector.controller");r.bcuScopesSelectorModule=angular.module("bcuScopesSelectorModule",[]).controller("bcuScopesSelectorController",e.bcuScopesSelectorController).component("bcuScopesSelector",{bindings:{parentCtrl:"<"},controller:"bcuScopesSelectorController"})},{"./bcu-scopes-selector.controller":99}],101:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bcuTabsAndScopesSelectorAfterModule=void 0;e=e("./bcu-scopes-selector/bcu-scopes-selector.module");(r.bcuTabsAndScopesSelectorAfterModule=angular.module("bcuTabsAndScopesSelectorAfterModule",[]).component("prmTabsAndScopesSelectorAfter",{template:'<bcu-scopes-selector after-ctrl="$ctrl"></bcu-scopes-selector><slsp-tabs-and-scopes-selector-after parent-ctrl="$parent.$ctrl"></slsp-tabs-and-scopes-selector-after>'})).requires.push(e.bcuScopesSelectorModule.name)},{"./bcu-scopes-selector/bcu-scopes-selector.module":100}],102:[function(e,t,r){"use strict";e("./unige-target-blank-fix/unige-target-blank-fix.module.js"),t.exports="unigeTargetBlankFix"},{"./unige-target-blank-fix/unige-target-blank-fix.module.js":103}],103:[function(e,t,r){"use strict";angular.module("unigeTargetBlankFix",[]).controller("unigeTargetBlankFixController",["$scope",function(e){var t=this;this.$onInit=function(){e.$watch(function(){return angular.isDefined(t.parentCtrl.mainView)?t.parentCtrl.mainView:0},function(){t.parentCtrl.mainView.forEach(function(e){e.target="_self"}),e.$watch(function(){return 0<document.getElementsByClassName("custom-links-container").length?document.getElementsByClassName("custom-links-container").length:0},function(){if(0<document.getElementsByClassName("custom-links-container").length)for(var e=document.getElementsByClassName("custom-links-container")[0].children,t=0;t<e.length;t++)e[t].firstElementChild.target="_self"})})}}]).component("prmTopNavBarLinksAfter",{bindings:{parentCtrl:"<"},controller:"unigeTargetBlankFixController"})},{}],104:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$parent=e.parent().parent()[0],this.$window=t}(r.bcuLangSwitchController=(n(i,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.languages=["fr","en"],this.languages.includes(this.parentCtrl.lang)||this.changeLanguage("en")}catch(e){console.error("***BCUFR*** bcuLangSwitchControler $onInit"),console.error(e.message)}}},{key:"changeLanguage",value:function(e){this.parentCtrl.changeLangService.addLangParamToUrl(e);var t=this.parentCtrl;this.parentCtrl.i18nService.setLanguage(e).then(function(){t.$timeout(function(){return t.$state.go(t.$state.current,{lang:e},{reload:!0})})})}}]),i)).$inject=["$element"]},{}],105:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bcuLangSwitchModule=void 0;e=e("./bcu-lang-switch.controller");r.bcuLangSwitchModule=angular.module("bcuLangSwitchModule",[]).controller("bcuLangSwitchController",e.bcuLangSwitchController).component("bcuLangSwitchComponent",{bindings:{afterCtrl:"<"},controller:"bcuLangSwitchController",template:'<button class="md-button md-lang-button" ng-repeat="lang in $ctrl.languages" ng-class="{active: $ctrl.afterCtrl.parentCtrl.lang == lang}" ng-click="$ctrl.changeLanguage(lang)">{{lang}}</button>'})},{"./bcu-lang-switch.controller":104}],106:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.slspIllSigninOrderLoggedOutService=e,this.$scope=t}(r.slspIllSigninOrderLoggedOutController=(n(i,[{key:"$doCheck",value:function(){try{return this.parentCtrl=this.afterCtrl.parentCtrl,this.$scope.usrNme=this.slspIllSigninOrderLoggedOutService.isGuest(),1==this.$scope.usrNme?angular.element(document.querySelector("primo-explore")).addClass("logged-out"):angular.element(document.querySelector("primo-explore")).removeClass("logged-out")}catch(e){console.error("***SLSP*** an error occured: slspIllSigninOrderLoggedOutController\n\n"),console.error(e.message)}}}]),i)).$inject=["slspIllSigninOrderLoggedOutService","$scope"]},{}],107:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspIllSigninOrderLoggedOutModule=void 0;var n=e("./slsp-ill-signin-order-logged-out.controller"),e=e("./slsp-ill-signin-order-logged-out.service");r.slspIllSigninOrderLoggedOutModule=angular.module("slspIllSigninOrderLoggedOutModule",[]).factory("slspIllSigninOrderLoggedOutService",e.slspIllSigninOrderLoggedOutService).controller("slspIllSigninOrderLoggedOutController",n.slspIllSigninOrderLoggedOutController).component("slspIllSigninOrderLoggedOutComponent",{bindings:{afterCtrl:"<"},controller:"slspIllSigninOrderLoggedOutController"})},{"./slsp-ill-signin-order-logged-out.controller":106,"./slsp-ill-signin-order-logged-out.service":108}],108:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.slspIllSigninOrderLoggedOutService=["jwtHelper",function(t){function r(){try{var e;return sessionStorage?(e=sessionStorage.getItem("primoExploreJwt"))?t.decodeToken(e):null:(console.error("***SLSP*** no session storage"),null)}catch(e){console.error("**SLSP*** an error occured: userService.getDecodedToken:"),console.error(e.message)}}return{isGuest:function(){try{var e=r();return e?!("GUEST"!==e.userGroup?e.userName:""):null}catch(e){console.error("***SLSP*** an error occured: userService.isGuest:"),console.error(e.message)}},getDecodedToken:r}}]},{}],109:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspUserAreaExpandableAfterModule=void 0;var n=e("./bcu-lang-switch/bcu-lang-switch.module"),e=e("./slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module"),r=r.slspUserAreaExpandableAfterModule=angular.module("slspUserAreaExpandableAfterModule",[]).component("prmUserAreaExpandableAfter",{bindings:{parentCtrl:"<"},template:'<bcu-lang-switch-component after-ctrl="$ctrl"></bcu-lang-switch-component><slsp-ill-signin-order-logged-out-component after-ctrl="$ctrl"></slsp-ill-signin-order-logged-out-component><slsp-user-area-expandable-after parent-ctrl="$parent.$ctrl"></slsp-user-area-expandable-after>'});r.requires.push(n.bcuLangSwitchModule.name),r.requires.push(e.slspIllSigninOrderLoggedOutModule.name)},{"./bcu-lang-switch/bcu-lang-switch.module":105,"./slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module":107}],110:[function(e,t,r){arguments[4][38][0].apply(r,arguments)},{dup:38}],111:[function(e,t,r){"use strict";e("./js/slsp-archives-htgi.module.js"),t.exports="slspArchivesHtgi"},{"./js/slsp-archives-htgi.module.js":112}],112:[function(e,t,r){"use strict";angular.module("slspArchivesHtgi",[]).controller("ArchivesHtgiController",[function(){this.$onInit=function(){try{var e,t;this.parentCtrl.item.pnx.display.source&&0!==this.parentCtrl.item.pnx.display.source.length&&(this.source=this.parentCtrl.item.pnx.display.source[0],"ETH_MaxFrischArchiv"!==this.source&&"ETH_ThomasMannArchiv"!==this.source||(document.getElementById("full-view-container").classList.add("slsp-archives-hide"),t=(e=this.parentCtrl.item.pnx.control.originalsourceid[0]).substring(e.lastIndexOf(":")+1),"ETH_ThomasMannArchiv"===this.source?this.url="http://www.online.tma.ethz.ch/home/#/content/"+t:"ETH_MaxFrischArchiv"===this.source&&(this.url="http://maxfrischarchiv-online.ethz.ch/home/#/content/"+t)))}catch(e){console.error("***SLSP*** an error occured: ArchivesHtgiController\n\n"),console.error(e.message)}}}]).component("almaHtgiSvcAfter",{bindings:{parentCtrl:"<"},controller:"ArchivesHtgiController",template:'\n        <div class="slsp-archives" ng-if="$ctrl.url">\n            <md-list layout="column" class="separate-list-items md-primoExplore-theme layout-column" role="list">\n                <md-list-item role="listitem" ng-href="{{$ctrl.url}}" target="_blank">\n                      <span>{{(\'customized.archives.\' + $ctrl.source + \'.linktext\' | translate)}}</span>\n                    <span>{{$ctrl.label}}</span>\n                    <div class="md-secondary">\n                        <prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new" class="layout-margin"/>\n                    </div>\n                </md-list-item>\n            </md-list>\n            <div ng-if="$ctrl.source === \'ETH_ThomasMannArchiv\'" class="slsp-archives-additional-hint">\n                <div>\n                    <span translate="customized.archives.ETH_ThomasMannArchiv.text1">No request possible. The digitized item can be consulted in the Thomas Mann Archives reading room upon advance registration (</span>\n                    <a target="_blank" rel="noopener" ng-href="https://tma.ethz.ch/utils/kontakt.html">\n                        <span translate="customized.archives.ETH_ThomasMannArchiv.linktext2">Contact</span>\n                        <prm-icon external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon>\n                    </a>\n                    <span translate="customized.archives.ETH_ThomasMannArchiv.text2">).</span>\n                </div>\n            </div>\n            <div ng-if="$ctrl.source === \'ETH_MaxFrischArchiv\'" class="slsp-archives-additional-hint">\n                <div>\n                    <span translate="customized.archives.ETH_MaxFrischArchiv.text1">Informationen zu Bestellung und Benutzung siehe</span>\n                    <a target="_blank" rel="noopener" ng-href="http://maxfrischarchiv-online.ethz.ch/home/#/manual">\n                        <span translate="customized.archives.ETH_MaxFrischArchiv.linktext2">Bedienungshinweise</span>\n                        <prm-icon external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon>\n                    </a>\n                    <span translate="customized.archives.ETH_MaxFrischArchiv.text2">.</span>\n                </div>\n            </div>\n        </div><slsp-htgi-svc-after parent-ctrl="$parent.$ctrl"></slsp-htgi-svc-after>\n        '})},{}],113:[function(e,t,r){"use strict";e("./js/slsp-archives-viewit.module.js"),t.exports="slspArchivesViewit"},{"./js/slsp-archives-viewit.module.js":114}],114:[function(e,t,r){"use strict";angular.module("slspArchivesViewit",[]).component("prmSearchResultAvailabilityLineAfter",{bindings:{parentCtrl:"<"},controller:"ArchivesAvailabilityLineController",template:'<slsp-search-result-availability-line-after parent-ctrl="$parent.$ctrl"></slsp-search-result-availability-line-after>'}).component("prmAlmaViewitAfter",{bindings:{parentCtrl:"<"},controller:"ArchivesViewitController",template:'\n        <div class="slsp-archives" ng-if="$ctrl.url">\n            <md-list layout="column" class="separate-list-items md-primoExplore-theme layout-column" role="list">\n                <md-list-item role="listitem" ng-href="{{$ctrl.url}}" target="_blank">\n                    <span>{{(\'customized.archives.\' + $ctrl.source + \'.linktext\' | translate)}}</span>\n                    <span>{{$ctrl.label}}</span>\n                    <div class="md-secondary">\n                        <prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new" class="layout-margin"/>\n                    </div>\n                </md-list-item>\n            </md-list>\n            <div ng-if="$ctrl.source === \'ETH_Hochschularchiv\'" class="slsp-archives-additional-hint">\n                <div>\n                    <span translate="customized.archives.ETH_Hochschularchiv.text1">Informationen zu Bestellung und Benutzung siehe</span>\n                    <a target="_blank" rel="noopener" ng-href="http://archivdatenbank-online.ethz.ch/hsa/#/manual">\n                        <span translate="customized.archives.ETH_Hochschularchiv.linktext2">Bedienungshinweise</span>\n                        <prm-icon external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon>\n                    </a>\n                    <span translate="customized.archives.ETH_Hochschularchiv.text2">.</span>\n                </div>\n            </div>\n        </div><slsp-alma-viewit-after parent-ctrl="$parent.$ctrl"></slsp-alma-viewit-after>\n        '}).controller("ArchivesViewitController",["$translate",function(r){this.$onInit=function(){try{if(this.parentCtrl.item.pnx.display.source&&0!==this.parentCtrl.item.pnx.display.source.length&&(this.source=this.parentCtrl.item.pnx.display.source[0],"ETH_Hochschularchiv"===this.source)){if(this.parentCtrl.item.delivery.GetIt1&&0<this.parentCtrl.item.delivery.GetIt1.length&&this.parentCtrl.item.delivery.GetIt1[0].links&&0<this.parentCtrl.item.delivery.GetIt1[0].links.length){if(0<this.parentCtrl.item.delivery.GetIt1[0].links.filter(function(e){return!(!e.isLinktoOnline||""===e.link)}).length)return;r("nui.getit.service_howtogetit").then(function(e){var t=document.getElementById("fullView");angular.element(t.querySelector("h4[translate='nui.getit.service_viewit']")).text(e),angular.element(t.querySelector("#services-index span[translate='nui.getit.service_viewit']")).text(e)})}document.getElementById("full-view-container").classList.add("slsp-archives-hide");var e=this.parentCtrl.item.pnx.control.originalsourceid[0],t=e.substring(e.lastIndexOf(":")+1);"ETH_Hochschularchiv"===this.source&&(this.url="http://archivdatenbank-online.ethz.ch/hsa/#/content/"+t)}}catch(e){console.error("***SLSP*** an error occured: ArchivesViewitController\n\n"),console.error(e.message)}}}]).controller("ArchivesAvailabilityLineController",["$translate",function(r){this.$onInit=function(){var e,t=this;try{this.changeButton=!1,this.parentCtrl.result.pnx.display.source&&0!==this.parentCtrl.result.pnx.display.source.length&&(this.source=this.parentCtrl.result.pnx.display.source[0],"ETH_Hochschularchiv"===this.source)&&this.parentCtrl.result.delivery.GetIt1&&0!=this.parentCtrl.result.delivery.GetIt1.length&&this.parentCtrl.result.delivery.GetIt1[0].links&&0!=this.parentCtrl.result.delivery.GetIt1[0].links.length&&0===this.parentCtrl.result.delivery.GetIt1[0].links.filter(function(e){return!(!e.isLinktoOnline||""===e.link)}).length&&(r("delivery.code.no_inventory").then(function(e){t.changeButton=!0,t.changeButtonText=e}),e=this.parentCtrl.$element[0])&&e.classList.add("slsp-hsa-no-online")}catch(e){console.error("***SLSP*** an error occured: ArchivesAvailabilityLineController\n\n"),console.error(e.message)}},this.$doCheck=function(){try{var e;this.changeButton&&(e=this.parentCtrl.$element[0].querySelector(".availability-status"),angular.element(e))&&0<angular.element(e).length&&(angular.element(e).html(this.changeButtonText),this.changeButton=!1,this.changeButtonText="")}catch(e){console.error("***ETH*** an error occured: ArchivesAvailabilityLineController $doCheck\n\n"),console.error(e.message)}}}])},{}],115:[function(e,t,r){"use strict";e("./js/slsp-http-intercept-pickup-information.module.js"),t.exports="slspHttpInterceptPickupInformation"},{"./js/slsp-http-intercept-pickup-information.module.js":116}],116:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.slspHttpInterceptPickupInformation=angular.module("slspHttpInterceptPickupInformation",["ng"]).config(["$httpProvider",function(e){e.interceptors.push(["$q",function(t){return{request:function(e){return e},requestError:function(e){return t.reject(e)},responseError:function(e){return t.reject(e)},response:function(e){try{var t;/primaws\/rest\/pub\/ngrs\/ngrsPickupInformationUrl/.test(e.config.url)&&(t=angular.element(document.querySelector("primo-explore")).controller("primo-explore").userSessionManagerService.jwtUtilService.getDecodedToken().userGroup,["91","92"].includes(t))&&(e.data.personalDelivery="None")}catch(e){console.log(e)}return e}}}])}])},{}],117:[function(e,t,r){"use strict";e("./js/slsp-http-intercept-requests.module.js"),t.exports="slspHttpInterceptRequests"},{"./js/slsp-http-intercept-requests.module.js":118}],118:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.slspHttpInterceptRequests=angular.module("slspHttpInterceptRequests",["ng"]).config(["$httpProvider",function(e){e.interceptors.push(["$q",function(t){return{request:function(e){return e},requestError:function(e){return t.reject(e)},responseError:function(e){return t.reject(e)},response:function(e){try{if(/primaws\/rest\/priv\/myaccount\/requests/.test(e.config.url)&&200==e.status&&"ok"==e.data.status){var t=angular.element(document.querySelector("primo-explore")).injector().get("$rootScope").$$childHead.$ctrl.userSessionManagerService.getUserLanguage()||window.appConfig["primo-view"]["attributes-map"].interfaceLanguage,r={en:["in transit","in process","on hold shelf"],de:["transfer","in bearbeitung","bereitgestellt"],fr:["en cours de transfert","en cours","sur le rayon des rÃ©servations"],it:["in transito","in processo","scaffale prenotazioni"]},n={en:["in transit","in process"],de:["transfer","in bearbeitung"],fr:["en cours de transfert","en cours"],it:["in transito","in processo"]};if(!Object.keys(r).includes(t))throw"No mapping found for holds: "+t;var o=RegExp(r[t].map(function(e){return e.toLowerCase()}).join("|"));if(e.data.data.holds.hold.map(function(e){o.test(e.holdstatus.toLowerCase())&&(e.cancel="N")}),!Object.keys(n).includes(t))throw"No mapping found for photocopies: "+t;var i=RegExp(n[t].map(function(e){return e.toLowerCase()}).join("|"));e.data.data.photocopies.photocopy.map(function(e){i.test(e.requeststatus.toLowerCase())&&(e.cancel="N")})}}catch(e){console.error(e)}return e}}}])}])},{}],119:[function(e,t,r){"use strict";e("./js/slsp-ill-signin-order-alert.module.js"),t.exports="slspIllSigninOrderAlert"},{"./js/slsp-ill-signin-order-alert.module.js":120}],120:[function(e,t,r){"use strict";angular.module("slspIllSigninOrderAlert",[]).controller("AlertMsgController",["$scope",function(e){var r=this;r.getAlert=function(){var e=r.parentCtrl.almaHowToGetitService.reqAlert._htmlMsg,t=angular.element(document.querySelector("primo-explore"));return 0<e.length?t.addClass("alert"):t.removeClass("alert")}}]).component("almaHowovpAfter",{bindings:{parentCtrl:"<"},controller:"AlertMsgController",template:'<div style="display:none">{{$ctrl.getAlert()}}</div><slsp-howovp-after parent-ctrl="$parent.$ctrl"></slsp-howovp-after>'})},{}],121:[function(e,t,r){"use strict";e("./unige-loan-policy-label-fix/unige-loan-policy-label-fix.module.js"),t.exports="unigeLoanPolicyLabelFix"},{"./unige-loan-policy-label-fix/unige-loan-policy-label-fix.module.js":122}],122:[function(e,t,r){"use strict";angular.module("unigeLoanPolicyLabelFix",[]).controller("unigeLoanPolicyLabelFixController",["$scope",function(e){var r=this;this.$onInit=function(){e.$watch(function(){return angular.isDefined(r.parentCtrl.loc)&&angular.isDefined(r.parentCtrl.loc.items)?r.parentCtrl.loc.items:0},function(){if(angular.isDefined(r.parentCtrl.loc))for(var e=r.parentCtrl.loc.items,t=0;t<e.length;t++)e[t].itemFields[3]=e[t].itemFields[3].substring(3)})}}]).component("slspLocationItemsAfter",{bindings:{parentCtrl:"<"},controller:"unigeLoanPolicyLabelFixController",template:""})},{}],123:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.unigeBibNewsConfig=function(){return{label:{heading:{de:"Aktuelles",en:"Library News",fr:"Actus de la BibliothÃ¨que UNIGE",it:"Notizie dalla biblioteca"},more:{de:"Weitere Informationen",en:"More information",fr:"Voir plus",it:"PiÃ¹ informazioni"},all:{de:"Alle Meldungen ansehen",en:"All news",fr:"Toutes les actualitÃ©s",it:"Tutte le notizie"}}}}},{}],124:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r,n){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.$sce=e,this.unigeConfigService=t,this.config=r,this.unigeBibNewsService=n,this.lang=this.unigeConfigService.getLanguage()}(r.unigeBibNewsController=(n(i,[{key:"$onInit",value:function(){var t=this;try{this.unigeBibNewsService.getNews(this.lang).then(function(e){try{t.allNewsUrl="https://www.unige.ch/biblio/fr/actus/",t.news=e.entries}catch(e){console.error("***UNIGE*** an error occured: unigeBibNewsController unigeBibNewsService.getNews(): \n\n"),console.error(e.message)}})}catch(e){console.error("***UNIGE*** an error occured: unigeBibNewsController.onInit()\n\n"),console.error(e.message)}}},{key:"decodeHtmlEntities",value:function(e){var t=document.createElement("div");return t.innerHTML=e,this.$sce.trustAsHtml(t.textContent)}}]),i)).$inject=["$sce","unigeConfigService","unigeBibNewsConfig","unigeBibNewsService"]},{}],125:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.unigeBibNewsService=["$http","$sce",function(r,n){return{getNews:function(t){"fr"!=(t=t||"en")&&"it"!=t||(t="en");var e="https://dis.unige.ch/slsp/unige_bib_news.php";return n.trustAsResourceUrl(e),r.get(e,{headers:{"X-From-ExL-API-Gateway":void 0}}).then(function(e){return console.log("lang = "+t),e.data},function(e){var t="***UNIGE*** an error occured: unigeBibNewsService.get(): "+e.status;return e.data&&e.data.errorMessage&&(t+=" - "+e.data.errorMessage),console.error(t),null})}}}]},{}],126:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.unigeConfigService=["$rootScope",function(t){return{getLanguage:function(){try{var e=t.$$childHead.$ctrl.userSessionManagerService;return e?e.getUserLanguage()||$window.appConfig["primo-view"]["attributes-map"].interfaceLanguage:(console.error("***UNIGE*** unigeConfigService: userSessionManagerService not available"),"en")}catch(e){return console.error("***UNIGE*** an error occured: unigeConfigService.getLanguage():"),console.error(e.message),"en"}},getLabel:function(e,t){try{var r=this.getLanguage();return e.label[t]?e.label[t][r]||e.label[t].en:(console.error("***UNIGE*** unigeConfigService.getLabel: '"+t+"' not in config"),t)}catch(e){return console.error("***UNIGE*** an error occured: unigeConfigService.getLabel():"),console.error(e.message),""}},getUrl:function(e,t){try{var r=this.getLanguage();return e.url[t]?e.url[t][r]||e.url[t].en:(console.error("***UNIGE*** unigeConfigService.getUrl: '"+t+"' not in config"),"")}catch(e){return console.error("***UNIGE*** an error occured: unigeConfigService.getUrl():"),console.error(e.message),""}}}}]},{}],127:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.unigeBibNewsModule=void 0;var n=e("./module/unige-config.service"),o=e("./module/unige-bib-news.config"),i=e("./module/unige-bib-news.controller"),e=e("./module/unige-bib-news.service"),r=r.unigeBibNewsModule=angular.module("unigeBibNewsModule",[]).factory("unigeConfigService",n.unigeConfigService).factory("unigeBibNewsConfig",o.unigeBibNewsConfig).factory("unigeBibNewsService",e.unigeBibNewsService).controller("unigeBibNewsController",i.unigeBibNewsController).component("unigeBibNewsComponent",{bindings:{afterCtrl:"<"},controller:"unigeBibNewsController",template:'<md-card class="cardbox default-card" ng-if="$ctrl.news.length > 0">\n    <md-card-title>\n        <md-card-title-text>\n            <h2 class="md-headline">{{::$ctrl.unigeConfigService.getLabel($ctrl.config, \'heading\')}}</h2>\n        </md-card-title-text>\n    </md-card-title>\n    <md-card-content>\n        <div class="unige-news" ng-repeat="news in $ctrl.news">\n            <a target="_blank" rel="noopener" class="arrow-link" href="{{news.link}}" rel="external">\n                <span>{{$ctrl.decodeHtmlEntities(news.title)}}</span>\n                <prm-icon external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon>\n                <prm-icon link-arrow external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon>\n            </a>\n        </div>\n        <div class="unige-all-news">\n            <a target="_blank" rel="noopener" class="arrow-link" rel="external" href="{{$ctrl.allNewsUrl}}">\n                <span>{{::$ctrl.unigeConfigService.getLabel($ctrl.config, \'all\')}}</span>\n                <prm-icon external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon>\n                <prm-icon link-arrow external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon>\n            </a>\n        </div>\n    </md-card-content>\n</md-card>\n'});r.requires.push(r.name)},{"./module/unige-bib-news.config":123,"./module/unige-bib-news.controller":124,"./module/unige-bib-news.service":125,"./module/unige-config.service":126}]},{},[1]);
//# sourceMappingURL=custom.js.map
